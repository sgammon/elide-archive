<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SpannerUtil</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="keywords" content="gust.backend.driver.spanner.SpannerUtil class">
<meta name="keywords" content="resolveKeyColumn()">
<meta name="keywords" content="resolveTableName()">
<meta name="keywords" content="resolveKeyType()">
<meta name="keywords" content="resolveColumnSize()">
<meta name="keywords" content="resolveColumnName()">
<meta name="keywords" content="resolveColumnIndex()">
<meta name="keywords" content="resolveColumnValue()">
<meta name="keywords" content="resolveColumnType()">
<meta name="keywords" content="calculateDefaultFields()">
<meta name="keywords" content="generateStruct()">
<meta name="keywords" content="onlySpannerEligibleFields()">
<meta name="keywords" content="maybeWrapType()">
<meta name="keywords" content="resolveType()">
<meta name="keywords" content="resolveDefaultType()">
<meta name="keywords" content="columnOpts()">
<meta name="keywords" content="spannerOpts()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SpannerUtil";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpannerUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">gust.backend.driver.spanner</a></div>
<h2 title="Class SpannerUtil" class="title">Class SpannerUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gust.backend.driver.spanner.SpannerUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public final class <a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.36">SpannerUtil</a>
extends java.lang.Object</pre>
<div class="block">Provides utilities related to operations with Spanner, including tools for resolving column names and types from
 models and annotations, and producing default sets of columns for DDL statements.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculateDefaultFields(com.google.protobuf.Descriptors.Descriptor,gust.backend.driver.spanner.SpannerDriverSettings)">calculateDefaultFields</a></span>&#8203;(com.google.protobuf.Descriptors.Descriptor&nbsp;descriptor,
                      <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</code></th>
<td class="colLast">
<div class="block">Calculate a default projection of Spanner columns, as configured on the provided default model instance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#columnOpts(com.google.protobuf.Descriptors.FieldDescriptor)">columnOpts</a></span>&#8203;(com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field)</code></th>
<td class="colLast">
<div class="block">Given a resolved Protocol Buffer <code>Descriptors.FieldDescriptor</code> which is considered eligible for interaction
 with Spanner, resolve any present column-generic options and annotations via <code>TableFieldOptions</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#columnOpts(gust.backend.model.ModelMetadata.FieldPointer)">columnOpts</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer)</code></th>
<td class="colLast">
<div class="block">Given a pre-resolved <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a>, resolve any present <code>TableFieldOptions</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.util.Collection&lt;com.google.cloud.spanner.Type.StructField&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateStruct(com.google.protobuf.Descriptors.Descriptor,gust.backend.driver.spanner.SpannerDriverSettings)">generateStruct</a></span>&#8203;(com.google.protobuf.Descriptors.Descriptor&nbsp;descriptor,
              <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</code></th>
<td class="colLast">
<div class="block">Calculate a default projection of Spanner columns, as configured on the provided default model instance.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static com.google.cloud.spanner.Type</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maybeWrapType(gust.backend.model.ModelMetadata.FieldPointer,com.google.cloud.spanner.Type)">maybeWrapType</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;field,
             com.google.cloud.spanner.Type&nbsp;inner)</code></th>
<td class="colLast">
<div class="block">If a concrete type is marked as repeated, wrap it in an array type.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static java.util.function.Predicate&lt;<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onlySpannerEligibleFields(gust.backend.driver.spanner.SpannerDriverSettings)">onlySpannerEligibleFields</a></span>&#8203;(<a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Return a <code>Predicate</code> implementation which operates on <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> objects to determine eligibility
 for interaction with Spanner.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.util.function.Predicate&lt;<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onlySpannerEligibleFields(java.util.SortedSet,gust.backend.driver.spanner.SpannerDriverSettings)">onlySpannerEligibleFields</a></span>&#8203;(java.util.SortedSet&lt;java.lang.String&gt;&nbsp;eligibleFields,
                         <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Return a <code>Predicate</code> implementation which determines field eligibility with regard to interaction with
 Cloud Spanner, optionally considering the provided set of circumstantial higher-order eligible fields (for
 instance, in the case of a known property projection).</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveColumnIndex(com.google.cloud.spanner.Struct,gust.backend.model.ModelMetadata.FieldPointer,java.lang.String)">resolveColumnIndex</a></span>&#8203;(com.google.cloud.spanner.Struct&nbsp;source,
                  <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                  java.lang.String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Given a Spanner row result expressed as a <code>Struct</code> and a <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> which is expected to be
 present, with a pre-resolved column name, return the numeric column index.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveColumnName(com.google.protobuf.Descriptors.FieldDescriptor,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">resolveColumnName</a></span>&#8203;(com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field,
                 java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                 java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Given a resolved Protocol Buffer field descriptor and set of annotations, resolve the expected/configured column
 name in Spanner for a given typed model field.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveColumnName(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">resolveColumnName</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                 java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                 java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Given a resolved field pointer and set of annotations, resolve the expected/configured column name in Spanner for
 a given typed model field.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveColumnSize(com.google.protobuf.Descriptors.FieldDescriptor,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">resolveColumnSize</a></span>&#8203;(com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field,
                 java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                 java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Given a model field pointer which translates to a `STRING` or `BYTES` column in Spanner, determine the size that
 should be used when declaring the string column.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static com.google.cloud.spanner.Type</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveColumnType(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">resolveColumnType</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                 java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                 java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Given a resolved and eligible <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> for a model field which should interact with Spanner, resolve
 an expected Spanner <code>Type</code>, including any nested structure or complex objects, as mediated and regulated by
 annotations on the model field.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static com.google.cloud.spanner.Value</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveColumnValue(com.google.cloud.spanner.Struct,gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">resolveColumnValue</a></span>&#8203;(com.google.cloud.spanner.Struct&nbsp;source,
                  <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                  java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                  java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                  <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</code></th>
<td class="colLast">
<div class="block">Given a Spanner row result expressed as a <code>Struct</code> and a <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> which is expected to be
 present, resolve any present <code>Value</code>.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static com.google.cloud.spanner.Type</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveDefaultType(gust.backend.model.ModelMetadata.FieldPointer,com.google.protobuf.Descriptors.FieldDescriptor.Type,gust.backend.driver.spanner.SpannerDriverSettings)">resolveDefaultType</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;pointer,
                  com.google.protobuf.Descriptors.FieldDescriptor.Type&nbsp;protoType,
                  <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Resolve a default Spanner type for the provided field `pointer`.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static com.google.cloud.spanner.Type</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveDefaultType(gust.backend.model.ModelMetadata.FieldPointer,gust.backend.driver.spanner.SpannerDriverSettings)">resolveDefaultType</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;pointer,
                  <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Resolve a default Spanner type for the provided field `pointer`.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveKeyColumn(gust.backend.model.ModelMetadata.FieldPointer,gust.backend.driver.spanner.SpannerDriverSettings)">resolveKeyColumn</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;keyField,
                <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</code></th>
<td class="colLast">
<div class="block">For a given key field pointer, resolve the column name which should be used for the primary key in Spanner,
 according to the annotation structure present on the key.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static com.google.cloud.spanner.Type</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveKeyType(gust.backend.model.ModelMetadata.FieldPointer)">resolveKeyType</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;idField)</code></th>
<td class="colLast">
<div class="block">For a given key field pointer, resolve the column type which should be used for the primary key in Spanner,
 according to the annotation structure present on the key.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveTableName(com.google.protobuf.Descriptors.Descriptor)">resolveTableName</a></span>&#8203;(com.google.protobuf.Descriptors.Descriptor&nbsp;message)</code></th>
<td class="colLast">
<div class="block">Given a schema-driven model or key object, determine the table name that should be used in Spanner.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveTableName(com.google.protobuf.Message)">resolveTableName</a></span>&#8203;(com.google.protobuf.Message&nbsp;message)</code></th>
<td class="colLast">
<div class="block">Given a schema-driven model or key object, determine the table name that should be used in Spanner.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static com.google.cloud.spanner.Type</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resolveType(gust.backend.model.ModelMetadata.FieldPointer,tools.elide.core.SpannerOptions.SpannerType)">resolveType</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;pointer,
           tools.elide.core.SpannerOptions.SpannerType&nbsp;spannerType)</code></th>
<td class="colLast">
<div class="block">Resolve a normalized Spanner type for the provided field `pointer`, with the explicit provided `spannerType`.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#spannerOpts(com.google.protobuf.Descriptors.FieldDescriptor)">spannerOpts</a></span>&#8203;(com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field)</code></th>
<td class="colLast">
<div class="block">Given a resolved Protocol Buffer <code>Descriptors.FieldDescriptor</code> which is considered eligible for interaction
 with Spanner, resolve any present Spanner-specific options and annotations via <code>SpannerFieldOptions</code>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#spannerOpts(gust.backend.model.ModelMetadata.FieldPointer)">spannerOpts</a></span>&#8203;(<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer)</code></th>
<td class="colLast">
<div class="block">Given a pre-resolved <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a>, resolve any present <code>SpannerFieldOptions</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="resolveKeyColumn(gust.backend.model.ModelMetadata.FieldPointer,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveKeyColumn</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.74">resolveKeyColumn</a>&#8203;(@Nonnull
                                                <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;keyField,
                                                @Nonnull
                                                <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</pre>
<div class="block">For a given key field pointer, resolve the column name which should be used for the primary key in Spanner,
 according to the annotation structure present on the key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyField</code> - Resolved field pointer to a given model's key field.</dd>
<dd><code>driverSettings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Name of the column we should use for the primary key.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#resolveKeyType(gust.backend.model.ModelMetadata.FieldPointer)"><code>To resolve the primary key column type.</code></a></dd>
</dl>
</li>
</ul>
<a id="resolveTableName(com.google.protobuf.Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveTableName</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.94">resolveTableName</a>&#8203;(@Nonnull
                                                com.google.protobuf.Message&nbsp;message)</pre>
<div class="block">Given a schema-driven model or key object, determine the table name that should be used in Spanner. All keys and
 objects used with Spanner must have such annotations or use generated defaults. This method variant operates from
 a full message instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - Message type to resolve a table name for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Resolved table name, from annotations, or calculated as a default.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#resolveTableName(com.google.protobuf.Descriptors.Descriptor)"><code>For the wrapped version of this message.</code></a></dd>
</dl>
</li>
</ul>
<a id="resolveTableName(com.google.protobuf.Descriptors.Descriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveTableName</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.107">resolveTableName</a>&#8203;(@Nonnull
                                                com.google.protobuf.Descriptors.Descriptor&nbsp;message)</pre>
<div class="block">Given a schema-driven model or key object, determine the table name that should be used in Spanner. All keys and
 objects used with Spanner must have such annotations or use generated defaults.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - Message type to resolve a table name for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Resolved table name, from annotations, or calculated as a default.</dd>
</dl>
</li>
</ul>
<a id="resolveKeyType(gust.backend.model.ModelMetadata.FieldPointer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveKeyType</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;com.google.cloud.spanner.Type&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.125">resolveKeyType</a>&#8203;(@Nonnull
                                                           <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;idField)</pre>
<div class="block">For a given key field pointer, resolve the column type which should be used for the primary key in Spanner,
 according to the annotation structure present on the key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>idField</code> - Resolved field pointer to a given model key's ID field.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Spanner column type to use for this model's ID.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#resolveKeyColumn(gust.backend.model.ModelMetadata.FieldPointer,gust.backend.driver.spanner.SpannerDriverSettings)"><code>To resolve the primary key column name.</code></a></dd>
</dl>
</li>
</ul>
<a id="resolveColumnSize(com.google.protobuf.Descriptors.FieldDescriptor,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveColumnSize</h4>
<pre class="methodSignature">public static&nbsp;int&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.156">resolveColumnSize</a>&#8203;(@Nonnull
                                    com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field,
                                    @Nonnull
                                    java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                                    @Nonnull
                                    java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                                    @Nonnull
                                    <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Given a model field pointer which translates to a `STRING` or `BYTES` column in Spanner, determine the size that
 should be used when declaring the string column.

 <p>If an explicit column size is specified via model annotations, that prevails. If not, the default size value
 is used.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>spannerOpts</code> - Spanner-specific options on the field.</dd>
<dd><code>columnOpts</code> - Column-generic options on the field.</dd>
<dd><code>settings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Expected name of the field when expressed as a column in Spanner.</dd>
</dl>
</li>
</ul>
<a id="resolveColumnName(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveColumnName</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.191">resolveColumnName</a>&#8203;(@Nonnull
                                                 <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                                                 @Nonnull
                                                 java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                                                 @Nonnull
                                                 java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                                                 @Nonnull
                                                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Given a resolved field pointer and set of annotations, resolve the expected/configured column name in Spanner for
 a given typed model field. If no specialized Spanner or table column annotations are present, fallback to a
 calculated default name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fieldPointer</code> - Pre-resolved model field pointer.</dd>
<dd><code>spannerOpts</code> - Spanner-specific options on the field.</dd>
<dd><code>columnOpts</code> - Column-generic options on the field.</dd>
<dd><code>settings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Expected name of the field when expressed as a column in Spanner.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#resolveColumnName(com.google.protobuf.Descriptors.FieldDescriptor,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)"><code>For the full
      un-sugared version of this method.</code></a></dd>
</dl>
</li>
</ul>
<a id="resolveColumnName(com.google.protobuf.Descriptors.FieldDescriptor,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveColumnName</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.229">resolveColumnName</a>&#8203;(@Nonnull
                                                 com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field,
                                                 @Nonnull
                                                 java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                                                 @Nonnull
                                                 java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                                                 @Nonnull
                                                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Given a resolved Protocol Buffer field descriptor and set of annotations, resolve the expected/configured column
 name in Spanner for a given typed model field. If no specialized Spanner or table column annotations are present,
 fallback to a calculated default name.

 <p><code>SpannerFieldOptions</code> always outweigh <code>TableFieldOptions</code>. If two similar or congruent properties
 are set between options, generic options are applied first, and then specialized options override.</p>

 <p>If <a href="SpannerDriverSettings.html#preserveFieldNames()"><code>SpannerDriverSettings.preserveFieldNames()</code></a> is activated when this method is called, default names
 will use the literal field name from the Protocol Buffer definition. Otherwise, JSON-style names are calculated
 and used as default names.</p>

 <p>Similarly, if <a href="SpannerDriverSettings.html#defaultCapitalizedNames()"><code>SpannerDriverSettings.defaultCapitalizedNames()</code></a> is activated when this method is called,
 default names will use JSON-style naming but with initial capitals. For example, `name` turns into `Name` and
 `contact_info` turns into `ContactInfo`. In all cases, explicit property names from specialized or generic
 annotations prevail, then <a href="SpannerDriverSettings.html#preserveFieldNames()"><code>SpannerDriverSettings.preserveFieldNames()</code></a> prevails, then the default form of
 naming with Spanner capitalized names active.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>field</code> - Protocol Buffer field descriptor for which we should resolve a Spanner column name.</dd>
<dd><code>spannerOpts</code> - Spanner options applied to this field as annotations.</dd>
<dd><code>columnOpts</code> - Generic table column settings applied to this field as annotations.</dd>
<dd><code>settings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Resolved column name, from explicit annotations, or by way of default calculation, as described above.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#resolveColumnName(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)"><code>For a version of this method
      which operates on  objects.</code></a></dd>
</dl>
</li>
</ul>
<a id="resolveColumnIndex(com.google.cloud.spanner.Struct,gust.backend.model.ModelMetadata.FieldPointer,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveColumnIndex</h4>
<pre class="methodSignature">public static&nbsp;int&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.274">resolveColumnIndex</a>&#8203;(@Nonnull
                                     com.google.cloud.spanner.Struct&nbsp;source,
                                     @Nonnull
                                     <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                                     @Nonnull
                                     java.lang.String&nbsp;name)</pre>
<div class="block">Given a Spanner row result expressed as a <code>Struct</code> and a <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> which is expected to be
 present, with a pre-resolved column name, return the numeric column index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - Row result from Spanner which we should resolve the column index from.</dd>
<dd><code>fieldPointer</code> - Pointer to the field for which we are resolving an index. Pre-resolved.</dd>
<dd><code>name</code> - Translated name of the column for which we are resolving an index. Pre-resolved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Integer index for the column in the provided row result.</dd>
</dl>
</li>
</ul>
<a id="resolveColumnValue(com.google.cloud.spanner.Struct,gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveColumnValue</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;com.google.cloud.spanner.Value&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.300">resolveColumnValue</a>&#8203;(@Nonnull
                                                                com.google.cloud.spanner.Struct&nbsp;source,
                                                                @Nonnull
                                                                <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                                                                @Nonnull
                                                                java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                                                                @Nonnull
                                                                java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                                                                @Nonnull
                                                                <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</pre>
<div class="block">Given a Spanner row result expressed as a <code>Struct</code> and a <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> which is expected to be
 present, resolve any present <code>Value</code>.

 <p>This method additionally resolves the expected column name for the provided field.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - Row result from Spanner from which we should resolve any present value.</dd>
<dd><code>fieldPointer</code> - Pointer to the model field for which we are resolving a value.</dd>
<dd><code>spannerOpts</code> - Spanner-specific options and annotations present on the field.</dd>
<dd><code>columnOpts</code> - Column-generic options and annotations present on the field.</dd>
<dd><code>driverSettings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Resolved Spanner value, as applicable.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#resolveColumnName(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)"><code>For an explanation of model
      field column name calculations and annotation behavior.</code></a></dd>
</dl>
</li>
</ul>
<a id="resolveColumnType(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveColumnType</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;com.google.cloud.spanner.Type&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.338">resolveColumnType</a>&#8203;(@Nonnull
                                                              <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer,
                                                              @Nonnull
                                                              java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;spannerOpts,
                                                              @Nonnull
                                                              java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;columnOpts,
                                                              @Nonnull
                                                              <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Given a resolved and eligible <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> for a model field which should interact with Spanner, resolve
 an expected Spanner <code>Type</code>, including any nested structure or complex objects, as mediated and regulated by
 annotations on the model field.

 <p>If <code>SpannerFieldOptions.getType()</code> returns a non-default value, it prevails first, with
 <code>TableFieldOptions.getSptype()</code> after that. If no explicit type is resolvable from the field definition,
 a default type is generated (see method references for more information).</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fieldPointer</code> - Pointer to the model field for which we should resolve a Spanner column type.</dd>
<dd><code>spannerOpts</code> - Spanner-specific options or annotations present on the field definition, as applicable.</dd>
<dd><code>columnOpts</code> - Column-generic options or annotations present on the field definition, as applicable.</dd>
<dd><code>settings</code> - Active settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Expected Spanner column type corresponding to the provided model field, considering all annotations.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#resolveDefaultType(gust.backend.model.ModelMetadata.FieldPointer,gust.backend.driver.spanner.SpannerDriverSettings)"><code>Fallback behavior if no explicit type is specified.</code></a></dd>
</dl>
</li>
</ul>
<a id="calculateDefaultFields(com.google.protobuf.Descriptors.Descriptor,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateDefaultFields</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.357">calculateDefaultFields</a>&#8203;(@Nonnull
                                                                      com.google.protobuf.Descriptors.Descriptor&nbsp;descriptor,
                                                                      @Nonnull
                                                                      <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</pre>
<div class="block">Calculate a default projection of Spanner columns, as configured on the provided default model instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>descriptor</code> - Default model schema to generate a default set of Spanner columns from.</dd>
<dd><code>driverSettings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Default list of Spanner columns.</dd>
</dl>
</li>
</ul>
<a id="generateStruct(com.google.protobuf.Descriptors.Descriptor,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateStruct</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.Collection&lt;com.google.cloud.spanner.Type.StructField&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.387">generateStruct</a>&#8203;(@Nonnull
                                                                                             com.google.protobuf.Descriptors.Descriptor&nbsp;descriptor,
                                                                                             @Nonnull
                                                                                             <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings)</pre>
<div class="block">Calculate a default projection of Spanner columns, as configured on the provided default model instance. The
 default set of columns includes any columns considered "eligible" for storage in Spanner, each pre-resolved with
 a column name and type.

 <p>This method is designed to operate deterministically, by visiting each eligible model field in a predictable
 order and expressing that same order in the output collection.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>descriptor</code> - Default model schema to generate a default set of Spanner columns from.</dd>
<dd><code>driverSettings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Default list of Spanner columns.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#onlySpannerEligibleFields(gust.backend.driver.spanner.SpannerDriverSettings)"><code>For an explanation of predicate behavior with regard to
      eligibility for interaction with Spanner.</code></a>, 
<a href="#resolveColumnName(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)"><code>For an explanation of Spanner
      column name resolution and default calculation behavior.</code></a>, 
<a href="#resolveColumnType(gust.backend.model.ModelMetadata.FieldPointer,java.util.Optional,java.util.Optional,gust.backend.driver.spanner.SpannerDriverSettings)"><code>For an explanation of Spanner
      column type resolution and default decision behavior.</code></a></dd>
</dl>
</li>
</ul>
<a id="onlySpannerEligibleFields(java.util.SortedSet,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onlySpannerEligibleFields</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.function.Predicate&lt;<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.431">onlySpannerEligibleFields</a>&#8203;(@Nonnull
                                                                                                 java.util.SortedSet&lt;java.lang.String&gt;&nbsp;eligibleFields,
                                                                                                 @Nonnull
                                                                                                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Return a <code>Predicate</code> implementation which determines field eligibility with regard to interaction with
 Cloud Spanner, optionally considering the provided set of circumstantial higher-order eligible fields (for
 instance, in the case of a known property projection).

 <p>Field eligibility is determined by the following criteria:
 <ul>
     <li>Model fields <b>MUST</b> be present on the <code>Message</code> schema to interact with Spanner.</li>
     <li>Model fields <b>MUST NOT</b> be annotated with <code>TableFieldOptions.getIgnore()</code>.</li>
     <li>Model fields <b>MUST NOT</b> be annotated with <code>SpannerFieldOptions.getIgnore()</code>.</li>
     <li>Model fields <b>MUST NOT</b> be annotated with <code>FieldVisibility.INTERNAL</code>.</li>
     <li>If provided and non-empty, model fields <b>MUST</b> be present in the set of <pre>eligibleFields</pre>
     provided to this method.</li>
 </ul></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eligibleFields</code> - Set of higher-order eligible fields, if applicable. Only considered if non-empty.</dd>
<dd><code>settings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Predicate which filters <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> objects according to the provided settings.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#onlySpannerEligibleFields(gust.backend.driver.spanner.SpannerDriverSettings)"><code>For circumstances with no known eligible fields.</code></a></dd>
</dl>
</li>
</ul>
<a id="onlySpannerEligibleFields(gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onlySpannerEligibleFields</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.function.Predicate&lt;<a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.466">onlySpannerEligibleFields</a>&#8203;(@Nonnull
                                                                                                 <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Return a <code>Predicate</code> implementation which operates on <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> objects to determine eligibility
 for interaction with Spanner.

 <p>This method variant provides no opportunity to filter by higher-order circumstantial fields. Should invoking
 code have an opportunity to do so, it may dispatch the more customizable form of this method (see below).
 Additionally, that method may be referenced for a detailed explanation of field eligibility behavior.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>settings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Predicate to determine <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a> eligibility for interaction with Spanner.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#onlySpannerEligibleFields(java.util.SortedSet,gust.backend.driver.spanner.SpannerDriverSettings)"><code>For the fully-controllable form of this method,
      which can combine an additional  to filter by a set of fields known at invocation time.</code></a></dd>
</dl>
</li>
</ul>
<a id="maybeWrapType(gust.backend.model.ModelMetadata.FieldPointer,com.google.cloud.spanner.Type)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeWrapType</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;com.google.cloud.spanner.Type&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.477">maybeWrapType</a>&#8203;(@Nonnull
                                                          <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;field,
                                                          @Nonnull
                                                          com.google.cloud.spanner.Type&nbsp;inner)</pre>
<div class="block">If a concrete type is marked as repeated, wrap it in an array type. Otherwise, just return the type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>field</code> - Field pointer for the model field.</dd>
<dd><code>inner</code> - Inner type for the maybe-repeated field.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Either the array-wrapped type or the concrete individual type.</dd>
</dl>
</li>
</ul>
<a id="resolveType(gust.backend.model.ModelMetadata.FieldPointer,tools.elide.core.SpannerOptions.SpannerType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveType</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;com.google.cloud.spanner.Type&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.493">resolveType</a>&#8203;(@Nonnull
                                                        <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;pointer,
                                                        @Nonnull
                                                        tools.elide.core.SpannerOptions.SpannerType&nbsp;spannerType)</pre>
<div class="block">Resolve a normalized Spanner type for the provided field `pointer`, with the explicit provided `spannerType`.
 With an explicit type, our job is just to make sure the model configuration is cohesive.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pointer</code> - Resolved field pointer.</dd>
<dd><code>spannerType</code> - Explicit Spanner type.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Resolved normalized Spanner type.</dd>
</dl>
</li>
</ul>
<a id="resolveDefaultType(gust.backend.model.ModelMetadata.FieldPointer,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveDefaultType</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;com.google.cloud.spanner.Type&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.517">resolveDefaultType</a>&#8203;(@Nonnull
                                                               <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;pointer,
                                                               @Nonnull
                                                               <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Resolve a default Spanner type for the provided field `pointer`. This selects a sensible default when no
 explicit type annotations are present for a Spanner column's type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pointer</code> - Field pointer to resolve a Spanner type for.</dd>
<dd><code>settings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Resolved normalized Spanner type.</dd>
</dl>
</li>
</ul>
<a id="resolveDefaultType(gust.backend.model.ModelMetadata.FieldPointer,com.google.protobuf.Descriptors.FieldDescriptor.Type,gust.backend.driver.spanner.SpannerDriverSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveDefaultType</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;com.google.cloud.spanner.Type&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.535">resolveDefaultType</a>&#8203;(@Nonnull
                                                               <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;pointer,
                                                               @Nonnull
                                                               com.google.protobuf.Descriptors.FieldDescriptor.Type&nbsp;protoType,
                                                               @Nonnull
                                                               <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;settings)</pre>
<div class="block">Resolve a default Spanner type for the provided field `pointer`. This selects a sensible default when no
 explicit type annotations are present for a Spanner column's type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pointer</code> - Field pointer to resolve a Spanner type for.</dd>
<dd><code>protoType</code> - Protocol Buffer type to resolve.</dd>
<dd><code>settings</code> - Settings for the Spanner driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Resolved normalized Spanner type.</dd>
</dl>
</li>
</ul>
<a id="columnOpts(gust.backend.model.ModelMetadata.FieldPointer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>columnOpts</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.587">columnOpts</a>&#8203;(@Nonnull
                                                                                <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer)</pre>
<div class="block">Given a pre-resolved <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a>, resolve any present <code>TableFieldOptions</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fieldPointer</code> - Field pointer for which we should resolve any present column-generic options.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Set of specified table field options, or <code>Optional.empty()</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#columnOpts(com.google.protobuf.Descriptors.FieldDescriptor)"><code>For the low-level version of this method, which includes a more
      detailed explanation of  with regard to Spanner.</code></a></dd>
</dl>
</li>
</ul>
<a id="columnOpts(com.google.protobuf.Descriptors.FieldDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>columnOpts</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.Optional&lt;tools.elide.core.TableFieldOptions&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.606">columnOpts</a>&#8203;(@Nonnull
                                                                                com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field)</pre>
<div class="block">Given a resolved Protocol Buffer <code>Descriptors.FieldDescriptor</code> which is considered eligible for interaction
 with Spanner, resolve any present column-generic options and annotations via <code>TableFieldOptions</code>.

 <p>Column-generic options apply to engines which operate in a columnar manner. This includes Spanner, but also
 includes engines like BigQuery and SQL-based systems. To allow adaptation to those systems without curtailing
 control of table and field naming, the Spanner driver respects <code>TableFieldOptions</code> but defers to any
 present <code>SpannerFieldOptions</code>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>field</code> - Field descriptor for which we should resolve any present <code>TableFieldOptions</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Any present column-generic field options or annotations, or <code>Optional.empty()</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#columnOpts(gust.backend.model.ModelMetadata.FieldPointer)"><code>For a version of this method which operates on .</code></a>, 
<a href="#spannerOpts(com.google.protobuf.Descriptors.FieldDescriptor)"><code>For the equivalent version of this method that returns Spanner-
      specific field options.</code></a></dd>
</dl>
</li>
</ul>
<a id="spannerOpts(gust.backend.model.ModelMetadata.FieldPointer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spannerOpts</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.632">spannerOpts</a>&#8203;(@Nonnull
                                                                                   <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model">ModelMetadata.FieldPointer</a>&nbsp;fieldPointer)</pre>
<div class="block">Given a pre-resolved <a href="../../model/ModelMetadata.FieldPointer.html" title="class in gust.backend.model"><code>ModelMetadata.FieldPointer</code></a>, resolve any present <code>SpannerFieldOptions</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fieldPointer</code> - Field pointer for which we should resolve any present column-generic options.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Set of specified table field options, or <code>Optional.empty()</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#spannerOpts(com.google.protobuf.Descriptors.FieldDescriptor)"><code>For the low-level version of this method, which includes a more
      detailed explanation of .</code></a></dd>
</dl>
</li>
</ul>
<a id="spannerOpts(com.google.protobuf.Descriptors.FieldDescriptor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>spannerOpts</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;java.util.Optional&lt;tools.elide.core.SpannerFieldOptions&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerUtil.html#line.649">spannerOpts</a>&#8203;(@Nonnull
                                                                                   com.google.protobuf.Descriptors.FieldDescriptor&nbsp;field)</pre>
<div class="block">Given a resolved Protocol Buffer <code>Descriptors.FieldDescriptor</code> which is considered eligible for interaction
 with Spanner, resolve any present Spanner-specific options and annotations via <code>SpannerFieldOptions</code>.

 <p>To adapt to other columnar-style engines, model fields may be annotated with <code>TableFieldOptions</code>. In all
 cases, present <code>SpannerFieldOptions</code> override with regard to Spanner Driver behavior.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>field</code> - Field descriptor for which we should resolve any present <code>SpannerFieldOptions</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Any present column-generic field options or annotations, or <code>Optional.empty()</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#spannerOpts(gust.backend.model.ModelMetadata.FieldPointer)"><code>For a version of this method which operates on .</code></a>, 
<a href="#columnOpts(com.google.protobuf.Descriptors.FieldDescriptor)"><code>For the equivalent version of this method that returns column-
      generic field options.</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpannerUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright () 2020, The Gust Framework Authors</small></p>
</footer>
</body>
</html>
