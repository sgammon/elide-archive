<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SpannerAdapter</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="keywords" content="gust.backend.driver.spanner.SpannerAdapter class">
<meta name="keywords" content="forModel()">
<meta name="keywords" content="acquire()">
<meta name="keywords" content="close()">
<meta name="keywords" content="codec()">
<meta name="keywords" content="cache()">
<meta name="keywords" content="engine()">
<meta name="keywords" content="executorService()">
<meta name="keywords" content="spanner()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SpannerAdapter";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":9,"i11":9,"i12":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpannerAdapter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">gust.backend.driver.spanner</a></div>
<h2 title="Class SpannerAdapter" class="title">Class SpannerAdapter&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gust.backend.driver.spanner.SpannerAdapter&lt;Key,&#8203;Model&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Key</code> - Typed <code>Message</code> which implements a concrete model key structure, as defined and annotated by the
              core Gust annotations.</dd>
<dd><code>Model</code> - Typed <code>Message</code> which implements a concrete model object structure, as defined and annotated by
              the core Gust annotations.</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../model/DatabaseAdapter.html" title="interface in gust.backend.model">DatabaseAdapter</a>&lt;Key,&#8203;Model,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code>, <code><a href="../../model/ModelAdapter.html" title="interface in gust.backend.model">ModelAdapter</a>&lt;Key,&#8203;Model,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code>, <code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;Key,&#8203;Model,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code>, <code>java.io.Closeable</code>, <code>java.lang.AutoCloseable</code></dd>
</dl>
<hr>
<pre>@Immutable
@ThreadSafe
public final class <a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.67">SpannerAdapter</a>&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message&gt;
extends java.lang.Object
implements <a href="../../model/DatabaseAdapter.html" title="interface in gust.backend.model">DatabaseAdapter</a>&lt;Key,&#8203;Model,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;, java.io.Closeable, java.lang.AutoCloseable</pre>
<div class="block">Implementation of a <a href="../../model/DatabaseAdapter.html" title="interface in gust.backend.model"><code>DatabaseAdapter</code></a> backed by Google Cloud Spanner, capable of marshalling arbitrary
 schema-generated <code>Message</code> objects back and forth from structured columnar storage.

 <p>This adapter is implemented by the <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> and related codec classes (<a href="SpannerCodec.html" title="class in gust.backend.driver.spanner"><code>SpannerCodec</code></a>,
 <a href="SpannerStructDeserializer.html" title="class in gust.backend.driver.spanner"><code>SpannerStructDeserializer</code></a> and <a href="SpannerMutationSerializer.html" title="class in gust.backend.driver.spanner"><code>SpannerMutationSerializer</code></a>). Background execution and gRPC channels are
 hooked into driver acquisition and may be managed by the developer, or by the framework automatically. See below for
 a summary of application-level Spanner features supported by this engine:</p>

 <p><b>Caching</b> may be facilitated by any compliant model <a href="../../model/CacheDriver.html" title="interface in gust.backend.model"><code>CacheDriver</code></a>.</p>

 <p><b>Transactions</b> are supported under the hood, and can be controlled via Spanner-extended operation options
 interfaces (such as <code>SpannerDriver.SpannerWriteOptions</code> and <code>SpannerDriver.SpannerFetchOptions</code>).
 Invoking code may either opt-in to transactional protection automatically, or drive external transactions with this
 adapter/driver by specifying an input transaction for a given operation.</p>

 <p><b>Collections</b> are supported by this engine, with additional support for nested models encoded via JSON. In
 cases where model JSON is involved, <code>JsonFormat</code> is used to produce and consume
 compliant Proto-JSON.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="SpannerManager.html" title="class in gust.backend.driver.spanner"><code>Adapter instance manager and factory.</code></a>, 
<a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner"><code>Driver-level settings specific to Spanner.</code></a>, 
<a href="../firestore/FirestoreAdapter.html" title="class in gust.backend.driver.firestore"><code>Similar adapter implementation, built on top of Cloud Firestore,
      which itself is implemented on top of Cloud Spanner.</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;gust.backend.model.<a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="../../model/PersistenceDriver.Internals.html" title="class in gust.backend.model">PersistenceDriver.Internals</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;gust.backend.model.<a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="../../model/PersistenceDriver.html#DEFAULT_CACHE_TIMEOUT">DEFAULT_CACHE_TIMEOUT</a>, <a href="../../model/PersistenceDriver.html#DEFAULT_CACHE_TIMEOUT_UNIT">DEFAULT_CACHE_TIMEOUT_UNIT</a>, <a href="../../model/PersistenceDriver.html#DEFAULT_TIMEOUT">DEFAULT_TIMEOUT</a>, <a href="../../model/PersistenceDriver.html#DEFAULT_TIMEOUT_UNIT">DEFAULT_TIMEOUT_UNIT</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;<br><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire(com.google.cloud.spanner.SpannerOptions.Builder,com.google.cloud.spanner.DatabaseId,com.google.api.gax.rpc.TransportChannelProvider,java.util.Optional,java.util.Optional,com.google.cloud.grpc.GrpcTransportOptions,com.google.common.util.concurrent.ListeningScheduledExecutorService,K,M,gust.backend.driver.spanner.SpannerDriverSettings,java.util.Optional)">acquire</a></span>&#8203;(com.google.cloud.spanner.SpannerOptions.Builder&nbsp;baseOptions,
       com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
       com.google.api.gax.rpc.TransportChannelProvider&nbsp;spannerChannel,
       java.util.Optional&lt;com.google.api.gax.core.CredentialsProvider&gt;&nbsp;credentialsProvider,
       java.util.Optional&lt;com.google.cloud.spanner.SpannerOptions.CallCredentialsProvider&gt;&nbsp;callCredentialProvider,
       com.google.cloud.grpc.GrpcTransportOptions&nbsp;transportOptions,
       com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;executorService,
       K&nbsp;keyInstance,
       M&nbsp;messageInstance,
       <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings,
       java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;K,&#8203;M&gt;&gt;&nbsp;cacheDriver)</code></th>
<td class="colLast">
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;<br><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId)">acquire</a></span>&#8203;(K&nbsp;keyInstance,
       M&nbsp;messageInstance,
       com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase)</code></th>
<td class="colLast">
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;<br><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.cloud.spanner.SpannerOptions.Builder,com.google.common.util.concurrent.ListeningScheduledExecutorService)">acquire</a></span>&#8203;(K&nbsp;keyInstance,
       M&nbsp;messageInstance,
       com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
       com.google.cloud.spanner.SpannerOptions.Builder&nbsp;baseOptions,
       com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;executorService)</code></th>
<td class="colLast">
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;<br><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.common.util.concurrent.ListeningScheduledExecutorService)">acquire</a></span>&#8203;(K&nbsp;keyInstance,
       M&nbsp;messageInstance,
       com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
       com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;executorService)</code></th>
<td class="colLast">
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;<br><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,java.util.Optional,java.util.Optional,java.util.Optional,java.util.Optional)">acquire</a></span>&#8203;(K&nbsp;keyInstance,
       M&nbsp;messageInstance,
       com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
       java.util.Optional&lt;com.google.common.util.concurrent.ListeningScheduledExecutorService&gt;&nbsp;executorService,
       java.util.Optional&lt;<a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&gt;&nbsp;driverSettings,
       java.util.Optional&lt;com.google.cloud.spanner.SpannerOptions.Builder&gt;&nbsp;baseOptions,
       java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;K,&#8203;M&gt;&gt;&nbsp;cacheDriver)</code></th>
<td class="colLast">
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a>,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cache()">cache</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the cache driver in use for this particular model adapter.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../model/ModelCodec.html" title="interface in gust.backend.model">ModelCodec</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a>,&#8203;com.google.cloud.spanner.Mutation,&#8203;com.google.cloud.spanner.Struct&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#codec()">codec</a></span>()</code></th>
<td class="colLast">
<div class="block">Acquire an instance of the codec used by this adapter.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../model/DatabaseDriver.html" title="interface in gust.backend.model">DatabaseDriver</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a>,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a>,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#engine()">engine</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the lower-level <a href="../../model/DatabaseDriver.html" title="interface in gust.backend.model"><code>DatabaseDriver</code></a> powering this adapter.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListeningScheduledExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executorService()">executorService</a></span>()</code></th>
<td class="colLast">
<div class="block">Resolve an executor service for use with this persistence driver.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static &lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;<br><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#forModel(gust.backend.driver.spanner.SpannerDriver)">forModel</a></span>&#8203;(<a href="SpannerDriver.html" title="class in gust.backend.driver.spanner">SpannerDriver</a>&lt;K,&#8203;M&gt;&nbsp;driver)</code></th>
<td class="colLast">
<div class="block">Create or resolve a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> for the pre-fabricated <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static &lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;<br><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#forModel(gust.backend.driver.spanner.SpannerDriver,java.util.Optional)">forModel</a></span>&#8203;(<a href="SpannerDriver.html" title="class in gust.backend.driver.spanner">SpannerDriver</a>&lt;K,&#8203;M&gt;&nbsp;driver,
        java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;K,&#8203;M&gt;&gt;&nbsp;cacheDriver)</code></th>
<td class="colLast">
<div class="block">Create or resolve a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> for the pre-fabricated <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a>, optionally using the
 provided <a href="../../model/CacheDriver.html" title="interface in gust.backend.model"><code>CacheDriver</code></a>, if present.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>com.google.cloud.spanner.Spanner</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#spanner()">spanner</a></span>()</code></th>
<td class="colLast">
<div class="block">Acquire the Spanner for Java client powering this adapter.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gust.backend.model.DatabaseAdapter">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;gust.backend.model.<a href="../../model/DatabaseAdapter.html" title="interface in gust.backend.model">DatabaseAdapter</a></h3>
<code><a href="../../model/DatabaseAdapter.html#generateKey(com.google.protobuf.Message)">generateKey</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gust.backend.model.ModelAdapter">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;gust.backend.model.<a href="../../model/ModelAdapter.html" title="interface in gust.backend.model">ModelAdapter</a></h3>
<code><a href="../../model/ModelAdapter.html#delete(Key,gust.backend.model.DeleteOptions)">delete</a>, <a href="../../model/ModelAdapter.html#persist(Key,Model,gust.backend.model.WriteOptions)">persist</a>, <a href="../../model/ModelAdapter.html#retrieve(Key,gust.backend.model.FetchOptions)">retrieve</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;gust.backend.model.<a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="../../model/PersistenceDriver.html#applyFieldsRecursive(com.google.protobuf.Message.Builder,com.google.protobuf.Message,java.util.Set,gust.backend.model.FetchOptions.MaskMode,java.lang.String)">applyFieldsRecursive</a>, <a href="../../model/PersistenceDriver.html#applyMask(Model,gust.backend.model.FetchOptions)">applyMask</a>, <a href="../../model/PersistenceDriver.html#create(Key,Model)">create</a>, <a href="../../model/PersistenceDriver.html#create(Key,Model,gust.backend.model.WriteOptions)">create</a>, <a href="../../model/PersistenceDriver.html#create(Model)">create</a>, <a href="../../model/PersistenceDriver.html#create(Model,gust.backend.model.WriteOptions)">create</a>, <a href="../../model/PersistenceDriver.html#delete(Key)">delete</a>, <a href="../../model/PersistenceDriver.html#deleteRecord(Model)">deleteRecord</a>, <a href="../../model/PersistenceDriver.html#deleteRecord(Model,gust.backend.model.DeleteOptions)">deleteRecord</a>, <a href="../../model/PersistenceDriver.html#fetch(Key)">fetch</a>, <a href="../../model/PersistenceDriver.html#fetch(Key,gust.backend.model.FetchOptions)">fetch</a>, <a href="../../model/PersistenceDriver.html#fetchAsync(Key)">fetchAsync</a>, <a href="../../model/PersistenceDriver.html#fetchAsync(Key,gust.backend.model.FetchOptions)">fetchAsync</a>, <a href="../../model/PersistenceDriver.html#fetchReactive(Key)">fetchReactive</a>, <a href="../../model/PersistenceDriver.html#fetchReactive(Key,gust.backend.model.FetchOptions)">fetchReactive</a>, <a href="../../model/PersistenceDriver.html#fetchSafe(Key)">fetchSafe</a>, <a href="../../model/PersistenceDriver.html#fetchSafe(Key,gust.backend.model.FetchOptions)">fetchSafe</a>, <a href="../../model/PersistenceDriver.html#generateId(com.google.protobuf.Message)">generateId</a>, <a href="../../model/PersistenceDriver.html#update(Key,Model)">update</a>, <a href="../../model/PersistenceDriver.html#update(Key,Model,gust.backend.model.UpdateOptions)">update</a>, <a href="../../model/PersistenceDriver.html#update(Model)">update</a>, <a href="../../model/PersistenceDriver.html#update(Model,gust.backend.model.UpdateOptions)">update</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="forModel(gust.backend.driver.spanner.SpannerDriver)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forModel</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;&nbsp;<a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.107">forModel</a>&#8203;(@Nonnull
                                                                                                                                     <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner">SpannerDriver</a>&lt;K,&#8203;M&gt;&nbsp;driver)</pre>
<div class="block">Create or resolve a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> for the pre-fabricated <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a>.

 <p>Note: this method has no way to specify a cache. See below for alternatives.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Typed model key structure which the resulting adapter should be specialized to.</dd>
<dd><code>M</code> - Typed model object structure which the resulting adapter should be specialized to.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>driver</code> - Pre-fabricated Spanner driver to wrap with an adapter instance.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Adapter instance, wrapping the provided driver.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#forModel(gust.backend.driver.spanner.SpannerDriver,java.util.Optional)"><code>Variant of this method that allows invoking code to provide a
      compliant  instance.</code></a></dd>
</dl>
</li>
</ul>
<a id="forModel(gust.backend.driver.spanner.SpannerDriver,java.util.Optional)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forModel</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;&nbsp;<a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.122">forModel</a>&#8203;(@Nonnull
                                                                                                                                     <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner">SpannerDriver</a>&lt;K,&#8203;M&gt;&nbsp;driver,
                                                                                                                                     @Nonnull
                                                                                                                                     java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;K,&#8203;M&gt;&gt;&nbsp;cacheDriver)</pre>
<div class="block">Create or resolve a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> for the pre-fabricated <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a>, optionally using the
 provided <a href="../../model/CacheDriver.html" title="interface in gust.backend.model"><code>CacheDriver</code></a>, if present.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Typed model key structure which the resulting adapter should be specialized to.</dd>
<dd><code>M</code> - Typed model object structure which the resulting adapter should be specialized to.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>driver</code> - Pre-fabricated Spanner driver to wrap with an adapter instance.</dd>
<dd><code>cacheDriver</code> - Optional cache engine to employ when interacting with the provided driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Adapter instance, wrapping the provided driver.</dd>
</dl>
</li>
</ul>
<a id="acquire(com.google.protobuf.Message,com.google.protobuf.Message,com.google.cloud.spanner.DatabaseId)">
<!--   -->
</a><a id="acquire(K,M,com.google.cloud.spanner.DatabaseId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;&nbsp;<a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.181">acquire</a>&#8203;(@Nonnull
                                                                                                                                    K&nbsp;keyInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    M&nbsp;messageInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase)</pre>
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.

 <p>This method variant is the simplest invocation option for acquiring an adapter. Variants of this method
 provide deeper control over interactions with the Spanner service. See below for alternatives if deeper control
 is necessary. Generally, it is best to let the framework manage transport and stub settings.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Model key structure for which the resulting adapter should be specialized.</dd>
<dd><code>M</code> - Model object structure for which the resulting adapter should be specialized.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyInstance</code> - Generated key <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>messageInstance</code> - Generated object <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>defaultDatabase</code> - Default Spanner database to use when interacting with this adapter. This value may be
                        overridden on an individual operation basis via specifying custom
                        <code>SpannerDriver.SpannerOperationOptions</code> and descendents.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Spanner adapter instance, specialized to the provided model and key <code>Message</code>s.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.common.util.concurrent.ListeningScheduledExecutorService)"><code>For an option which lets invoking
      code specify a background executor for RPC transmission and followup.</code></a>, 
<a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.cloud.spanner.SpannerOptions.Builder,com.google.common.util.concurrent.ListeningScheduledExecutorService)"><code>Variant of
      this same method which offers control of the  used to spawn RPC clients.</code></a>, 
<a href="#acquire(com.google.cloud.spanner.SpannerOptions.Builder,com.google.cloud.spanner.DatabaseId,com.google.api.gax.rpc.TransportChannelProvider,java.util.Optional,java.util.Optional,com.google.cloud.grpc.GrpcTransportOptions,com.google.common.util.concurrent.ListeningScheduledExecutorService,K,M,gust.backend.driver.spanner.SpannerDriverSettings,java.util.Optional)"><code>Full control over creation of the Spanner adapter and driver.</code></a></dd>
</dl>
</li>
</ul>
<a id="acquire(com.google.protobuf.Message,com.google.protobuf.Message,com.google.cloud.spanner.DatabaseId,com.google.common.util.concurrent.ListeningScheduledExecutorService)">
<!--   -->
</a><a id="acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.common.util.concurrent.ListeningScheduledExecutorService)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;&nbsp;<a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.231">acquire</a>&#8203;(@Nonnull
                                                                                                                                    K&nbsp;keyInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    M&nbsp;messageInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;executorService)</pre>
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.

 <p>This method variant additionally allows the developer to specify a custom
 <code>ListeningScheduledExecutorService</code> to use for background operation execution. This executor service is
 injected directly into the <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> and underlying Spanner RPC client, and is used for both RPC
 operational execution and async followup.</p>

 <p>Variants of this method provide deeper control over interactions with the Spanner service. See below for
 alternatives.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Model key structure for which the resulting adapter should be specialized.</dd>
<dd><code>M</code> - Model object structure for which the resulting adapter should be specialized.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyInstance</code> - Generated key <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>messageInstance</code> - Generated object <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>defaultDatabase</code> - Default Spanner database to use when interacting with this adapter. This value may be
                        overridden on an individual operation basis via specifying custom
                        <code>SpannerDriver.SpannerOperationOptions</code> and descendents.</dd>
<dd><code>executorService</code> - Executor service to use for primary RPC execution and related followup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Spanner adapter instance, specialized to the provided model and key <code>Message</code>s.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId)"><code>For a simpler version of this method which uses managed driver
      settings and a sensible cached threadpool executor.</code></a>, 
<a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.cloud.spanner.SpannerOptions.Builder,com.google.common.util.concurrent.ListeningScheduledExecutorService)"><code>Variant of
      this same method which offers control of the  used to spawn RPC clients.</code></a>, 
<a href="#acquire(com.google.cloud.spanner.SpannerOptions.Builder,com.google.cloud.spanner.DatabaseId,com.google.api.gax.rpc.TransportChannelProvider,java.util.Optional,java.util.Optional,com.google.cloud.grpc.GrpcTransportOptions,com.google.common.util.concurrent.ListeningScheduledExecutorService,K,M,gust.backend.driver.spanner.SpannerDriverSettings,java.util.Optional)"><code>Full control over creation of the Spanner adapter and driver.</code></a></dd>
</dl>
</li>
</ul>
<a id="acquire(com.google.protobuf.Message,com.google.protobuf.Message,com.google.cloud.spanner.DatabaseId,java.util.Optional,java.util.Optional,java.util.Optional,java.util.Optional)">
<!--   -->
</a><a id="acquire(K,M,com.google.cloud.spanner.DatabaseId,java.util.Optional,java.util.Optional,java.util.Optional,java.util.Optional)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;&nbsp;<a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.276">acquire</a>&#8203;(@Nonnull
                                                                                                                                    K&nbsp;keyInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    M&nbsp;messageInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
                                                                                                                                    @Nonnull
                                                                                                                                    java.util.Optional&lt;com.google.common.util.concurrent.ListeningScheduledExecutorService&gt;&nbsp;executorService,
                                                                                                                                    @Nonnull
                                                                                                                                    java.util.Optional&lt;<a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&gt;&nbsp;driverSettings,
                                                                                                                                    @Nonnull
                                                                                                                                    java.util.Optional&lt;com.google.cloud.spanner.SpannerOptions.Builder&gt;&nbsp;baseOptions,
                                                                                                                                    @Nonnull
                                                                                                                                    java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;K,&#8203;M&gt;&gt;&nbsp;cacheDriver)</pre>
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.

 <p>This method variant is a balanced invocation which allows invoking code to control <i>most</i> settings,
 without coupling too tightly to Google SDKs.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Model key structure for which the resulting adapter should be specialized.</dd>
<dd><code>M</code> - Model object structure for which the resulting adapter should be specialized.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyInstance</code> - Generated key <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>messageInstance</code> - Generated object <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>defaultDatabase</code> - Default Spanner database to use when interacting with this adapter. This value may be
                        overridden on an individual operation basis via specifying custom
                        <code>SpannerDriver.SpannerOperationOptions</code> and descendents.</dd>
<dd><code>executorService</code> - Executor service to use for primary RPC execution and related followup.</dd>
<dd><code>driverSettings</code> - Custom driver settings to apply. <a href="SpannerDriverSettings.html#DEFAULTS"><code>SpannerDriverSettings.DEFAULTS</code></a> is a good start.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Spanner adapter instance, specialized to the provided model and key <code>Message</code>s.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.common.util.concurrent.ListeningScheduledExecutorService)"><code>For an option which lets invoking
      code specify a background executor for RPC transmission and followup.</code></a>, 
<a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.cloud.spanner.SpannerOptions.Builder,com.google.common.util.concurrent.ListeningScheduledExecutorService)"><code>Variant of
      this same method which offers control of the  used to spawn RPC clients.</code></a>, 
<a href="#acquire(com.google.cloud.spanner.SpannerOptions.Builder,com.google.cloud.spanner.DatabaseId,com.google.api.gax.rpc.TransportChannelProvider,java.util.Optional,java.util.Optional,com.google.cloud.grpc.GrpcTransportOptions,com.google.common.util.concurrent.ListeningScheduledExecutorService,K,M,gust.backend.driver.spanner.SpannerDriverSettings,java.util.Optional)"><code>Full control over creation of the Spanner adapter and driver.</code></a></dd>
</dl>
</li>
</ul>
<a id="acquire(com.google.protobuf.Message,com.google.protobuf.Message,com.google.cloud.spanner.DatabaseId,com.google.cloud.spanner.SpannerOptions.Builder,com.google.common.util.concurrent.ListeningScheduledExecutorService)">
<!--   -->
</a><a id="acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.cloud.spanner.SpannerOptions.Builder,com.google.common.util.concurrent.ListeningScheduledExecutorService)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;&nbsp;<a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.332">acquire</a>&#8203;(@Nonnull
                                                                                                                                    K&nbsp;keyInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    M&nbsp;messageInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.cloud.spanner.SpannerOptions.Builder&nbsp;baseOptions,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;executorService)</pre>
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.

 <p>This method variant additionally allows the developer to specify a custom
 <code>ListeningScheduledExecutorService</code> to use for background operation execution, and a set of
 <code>SpannerOptions</code> to use when spawning RPC clients. This executor service is injected directly into the
 <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> and underlying Spanner RPC clients, and is used for both RPC operational execution and
 async followup.</p>

 <p>Variants of this method provide either simpler invocation, or deeper control over interactions with the
 Spanner service. See below for alternatives.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Model key structure for which the resulting adapter should be specialized.</dd>
<dd><code>M</code> - Model object structure for which the resulting adapter should be specialized.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyInstance</code> - Generated key <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>messageInstance</code> - Generated object <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>defaultDatabase</code> - Default Spanner database to use when interacting with this adapter. This value may be
                        overridden on an individual operation basis via specifying custom
                        <code>SpannerDriver.SpannerOperationOptions</code> and descendents.</dd>
<dd><code>baseOptions</code> - Spanner options to use when spawning RPC clients.</dd>
<dd><code>executorService</code> - Executor service to use for primary RPC execution and related followup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Spanner adapter instance, specialized to the provided model and key <code>Message</code>s.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId)"><code>For a simpler version of this method which uses managed driver
      settings and a sensible cached threadpool executor.</code></a>, 
<a href="#acquire(K,M,com.google.cloud.spanner.DatabaseId,com.google.common.util.concurrent.ListeningScheduledExecutorService)"><code>For a simpler version of this
      method which uses managed driver settings.</code></a>, 
<a href="#acquire(com.google.cloud.spanner.SpannerOptions.Builder,com.google.cloud.spanner.DatabaseId,com.google.api.gax.rpc.TransportChannelProvider,java.util.Optional,java.util.Optional,com.google.cloud.grpc.GrpcTransportOptions,com.google.common.util.concurrent.ListeningScheduledExecutorService,K,M,gust.backend.driver.spanner.SpannerDriverSettings,java.util.Optional)"><code>Full control over creation of the Spanner adapter and driver.</code></a></dd>
</dl>
</li>
</ul>
<a id="acquire(com.google.cloud.spanner.SpannerOptions.Builder,com.google.cloud.spanner.DatabaseId,com.google.api.gax.rpc.TransportChannelProvider,java.util.Optional,java.util.Optional,com.google.cloud.grpc.GrpcTransportOptions,com.google.common.util.concurrent.ListeningScheduledExecutorService,com.google.protobuf.Message,com.google.protobuf.Message,gust.backend.driver.spanner.SpannerDriverSettings,java.util.Optional)">
<!--   -->
</a><a id="acquire(com.google.cloud.spanner.SpannerOptions.Builder,com.google.cloud.spanner.DatabaseId,com.google.api.gax.rpc.TransportChannelProvider,java.util.Optional,java.util.Optional,com.google.cloud.grpc.GrpcTransportOptions,com.google.common.util.concurrent.ListeningScheduledExecutorService,K,M,gust.backend.driver.spanner.SpannerDriverSettings,java.util.Optional)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;K extends com.google.protobuf.Message,&#8203;M extends com.google.protobuf.Message&gt;&nbsp;<a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a>&lt;K,&#8203;M&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.380">acquire</a>&#8203;(@Nonnull
                                                                                                                                    com.google.cloud.spanner.SpannerOptions.Builder&nbsp;baseOptions,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.cloud.spanner.DatabaseId&nbsp;defaultDatabase,
                                                                                                                                    @Nonnull <a href="../../transport/GoogleAPIChannel.html" title="annotation in gust.backend.transport">@GoogleAPIChannel</a>(<a href="../../transport/GoogleAPIChannel.html#service()">service</a>=<a href="../../transport/GoogleService.html#SPANNER">SPANNER</a>)
                                                                                                                                    com.google.api.gax.rpc.TransportChannelProvider&nbsp;spannerChannel,
                                                                                                                                    @Nonnull
                                                                                                                                    java.util.Optional&lt;com.google.api.gax.core.CredentialsProvider&gt;&nbsp;credentialsProvider,
                                                                                                                                    @Nonnull
                                                                                                                                    java.util.Optional&lt;com.google.cloud.spanner.SpannerOptions.CallCredentialsProvider&gt;&nbsp;callCredentialProvider,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.cloud.grpc.GrpcTransportOptions&nbsp;transportOptions,
                                                                                                                                    @Nonnull
                                                                                                                                    com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;executorService,
                                                                                                                                    @Nonnull
                                                                                                                                    K&nbsp;keyInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    M&nbsp;messageInstance,
                                                                                                                                    @Nonnull
                                                                                                                                    <a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner">SpannerDriverSettings</a>&nbsp;driverSettings,
                                                                                                                                    @Nonnull
                                                                                                                                    java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;K,&#8203;M&gt;&gt;&nbsp;cacheDriver)</pre>
<div class="block">Create or acquire a <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> and matching <a href="SpannerDriver.html" title="class in gust.backend.driver.spanner"><code>SpannerDriver</code></a> for the provided generated model
 key and object structures, working against the provided Spanner <code>DatabaseId</code>.

 <p>This method variant additionally allows the developer to specify all custom settings available for the Spanner
 driver and adapter.</p>

 <p>Variants of this method provide simpler invocation, for looser coupling with applications. See below to
 consider these alternatives for situations where deep control isn't necessary.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Model key structure for which the resulting adapter should be specialized.</dd>
<dd><code>M</code> - Model object structure for which the resulting adapter should be specialized.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseOptions</code> - Spanner options to use when spawning RPC clients.</dd>
<dd><code>defaultDatabase</code> - Default Spanner database to use when interacting with this adapter. This value may be
                        overridden on an individual operation basis via specifying custom
                        <code>SpannerDriver.SpannerOperationOptions</code> and descendents.</dd>
<dd><code>spannerChannel</code> - Transport channel provider to use when spawning RPC connections to Spanner.</dd>
<dd><code>credentialsProvider</code> - Credentials provider to use when authorizing calls to Spanner.</dd>
<dd><code>callCredentialProvider</code> - Call-level credentials provider to use when authorizing calls to Spanner. Optional.</dd>
<dd><code>transportOptions</code> - Transport options to apply when interacting with Spanner services.</dd>
<dd><code>executorService</code> - Executor service to use for primary RPC execution and related followup.</dd>
<dd><code>keyInstance</code> - Generated key <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>messageInstance</code> - Generated object <code>Message</code> structure, for which the adapter should be specialized.</dd>
<dd><code>driverSettings</code> - Settings to apply to the Spanner driver and adapter itself.</dd>
<dd><code>cacheDriver</code> - Cache engine to use when interacting with the underlying driver.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Spanner adapter instance, specialized to the provided model and key <code>Message</code>s.</dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.411">close</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
</dl>
</li>
</ul>
<a id="codec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codec</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="../../model/ModelCodec.html" title="interface in gust.backend.model">ModelCodec</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a>,&#8203;com.google.cloud.spanner.Mutation,&#8203;com.google.cloud.spanner.Struct&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.419">codec</a>()</pre>
<div class="block">Acquire an instance of the codec used by this adapter. Codecs are either injected/otherwise provided during adapter
 construction, or they are specified statically if the adapter depends on a specific codec.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/PersistenceDriver.html#codec()">codec</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Model codec currently in use by this adapter.</dd>
</dl>
</li>
</ul>
<a id="cache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cache</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;java.util.Optional&lt;<a href="../../model/CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a>,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a>&gt;&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.425">cache</a>()</pre>
<div class="block">Return the cache driver in use for this particular model adapter. If a cache driver is present, and active/enabled
 according to database driver settings, it will be used on read-paths (such as fetching objects by ID).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/ModelAdapter.html#cache()">cache</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/ModelAdapter.html" title="interface in gust.backend.model">ModelAdapter</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Cache driver currently in use by this model adapter.</dd>
</dl>
</li>
</ul>
<a id="engine()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engine</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="../../model/DatabaseDriver.html" title="interface in gust.backend.model">DatabaseDriver</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a>,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a>,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.431">engine</a>()</pre>
<div class="block">Return the lower-level <a href="../../model/DatabaseDriver.html" title="interface in gust.backend.model"><code>DatabaseDriver</code></a> powering this adapter. The driver is responsible for communicating
 with the actual database or storage service, either via local stubs/emulators or a production API.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/DatabaseAdapter.html#engine()">engine</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/DatabaseAdapter.html" title="interface in gust.backend.model">DatabaseAdapter</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/ModelAdapter.html#engine()">engine</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/ModelAdapter.html" title="interface in gust.backend.model">ModelAdapter</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Database driver instance currently in use by this model adapter.</dd>
</dl>
</li>
</ul>
<a id="executorService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executorService</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.437">executorService</a>()</pre>
<div class="block">Resolve an executor service for use with this persistence driver. Operations will be executed against this as they
 are received.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/ModelAdapter.html#executorService()">executorService</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/ModelAdapter.html" title="interface in gust.backend.model">ModelAdapter</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/PersistenceDriver.html#executorService()">executorService</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerAdapter.html" title="type parameter in SpannerAdapter">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Scheduled executor service.</dd>
</dl>
</li>
</ul>
<a id="spanner()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>spanner</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;com.google.cloud.spanner.Spanner&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerAdapter.html#line.449">spanner</a>()</pre>
<div class="block">Acquire the Spanner for Java client powering this adapter.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Spanner client for Java.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpannerAdapter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright () 2020, The Gust Framework Authors</small></p>
</footer>
</body>
</html>
