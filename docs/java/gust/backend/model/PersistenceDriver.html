<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>PersistenceDriver</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="keywords" content="gust.backend.model.PersistenceDriver interface">
<meta name="keywords" content="DEFAULT_TIMEOUT">
<meta name="keywords" content="DEFAULT_TIMEOUT_UNIT">
<meta name="keywords" content="DEFAULT_CACHE_TIMEOUT">
<meta name="keywords" content="DEFAULT_CACHE_TIMEOUT_UNIT">
<meta name="keywords" content="executorService()">
<meta name="keywords" content="codec()">
<meta name="keywords" content="generateId()">
<meta name="keywords" content="generateKey()">
<meta name="keywords" content="applyFieldsRecursive()">
<meta name="keywords" content="applyMask()">
<meta name="keywords" content="fetch()">
<meta name="keywords" content="fetchSafe()">
<meta name="keywords" content="fetchReactive()">
<meta name="keywords" content="fetchAsync()">
<meta name="keywords" content="retrieve()">
<meta name="keywords" content="persist()">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PersistenceDriver";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":18,"i1":18,"i2":6,"i3":6,"i4":18,"i5":18,"i6":18,"i7":18,"i8":18,"i9":18,"i10":18,"i11":18,"i12":18,"i13":18,"i14":6,"i15":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PersistenceDriver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">gust.backend.model</a></div>
<h2 title="Interface PersistenceDriver" class="title">Interface PersistenceDriver&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message,&#8203;Intermediate&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Key</code> - Key record type (must be annotated with model role <code>OBJECT_KEY</code>).</dd>
<dd><code>Model</code> - Message/model type which this persistence driver is specialized for.</dd>
<dd><code>Intermediate</code> - Intermediate record format used by the underlying driver implementation during serialization.</dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="DatabaseAdapter.html" title="interface in gust.backend.model">DatabaseAdapter</a>&lt;Key,&#8203;Model,&#8203;DataRecord&gt;</code>, <code><a href="DatabaseDriver.html" title="interface in gust.backend.model">DatabaseDriver</a>&lt;Key,&#8203;Model,&#8203;Record&gt;</code>, <code><a href="ModelAdapter.html" title="interface in gust.backend.model">ModelAdapter</a>&lt;Key,&#8203;Model,&#8203;Intermediate&gt;</code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../driver/firestore/FirestoreAdapter.html" title="class in gust.backend.driver.firestore">FirestoreAdapter</a></code>, <code><a href="../driver/firestore/FirestoreDriver.html" title="class in gust.backend.driver.firestore">FirestoreDriver</a></code>, <code><a href="../driver/inmemory/InMemoryAdapter.html" title="class in gust.backend.driver.inmemory">InMemoryAdapter</a></code>, <code><a href="../driver/inmemory/InMemoryDriver.html" title="class in gust.backend.driver.inmemory">InMemoryDriver</a></code></dd>
</dl>
<hr>
<pre>@Immutable
@ThreadSafe
public interface <a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.51">PersistenceDriver</a>&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message,&#8203;Intermediate&gt;</pre>
<div class="block">Describes the surface of a generic persistence driver, which is capable of accepting arbitrary structured and typed
 business data (also called "data models"), and managing them with regard to persistent storage, which includes
 storing them when asked, and recalling them when subsequently asked to do so.

 <p>Persistence driver implementations do not always guarantee <i>durability</i> of data. For example,
 <a href="CacheDriver.html" title="interface in gust.backend.model"><code>CacheDriver</code></a> implementations are also <a href="PersistenceDriver.html" title="interface in gust.backend.model"><code>PersistenceDriver</code></a>s, and that entire class of implementations
 does not guarantee data will be there when you ask for it <i>at all</i> (relying on cache state is generally
 considered to be a very bad practice).</p>

 <p>Other implementation trees exist (notably, <a href="DatabaseDriver.html" title="interface in gust.backend.model"><code>DatabaseDriver</code></a>) which go the other way, and are expected to
 guarantee durability of data across restarts, distributed systems and networks, and failure cases, as applicable.
 Database driver implementations also support richer data storage features like querying and indexing.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CacheDriver.html" title="interface in gust.backend.model"><code>`CacheDriver` for persistence drivers with volatile durability guarantees</code></a>, 
<a href="DatabaseDriver.html" title="interface in gust.backend.model"><code>`DatabaseDriver` for drivers with rich features and/or strong durability guarantees.</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="PersistenceDriver.Internals.html" title="class in gust.backend.model">PersistenceDriver.Internals</a></span></code></th>
<td class="colLast">
<div class="block">Default model adapter internals.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_CACHE_TIMEOUT">DEFAULT_CACHE_TIMEOUT</a></span></code></th>
<td class="colLast">
<div class="block">Default timeout to apply when fetching from the cache.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.concurrent.TimeUnit</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_CACHE_TIMEOUT_UNIT">DEFAULT_CACHE_TIMEOUT_UNIT</a></span></code></th>
<td class="colLast">
<div class="block">Time units for <a href="#DEFAULT_CACHE_TIMEOUT"><code>DEFAULT_CACHE_TIMEOUT</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_TIMEOUT">DEFAULT_TIMEOUT</a></span></code></th>
<td class="colLast">
<div class="block">Default timeout to apply when otherwise unspecified.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.concurrent.TimeUnit</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_TIMEOUT_UNIT">DEFAULT_TIMEOUT_UNIT</a></span></code></th>
<td class="colLast">
<div class="block">Time units for <a href="#DEFAULT_TIMEOUT"><code>DEFAULT_TIMEOUT</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t5" class="tableTab" onclick="show(16);">Default Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>default com.google.protobuf.Message.Builder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#applyFieldsRecursive(com.google.protobuf.Message.Builder,com.google.protobuf.Message,java.util.Set,gust.backend.model.FetchOptions.MaskMode,java.lang.String)">applyFieldsRecursive</a></span>&#8203;(com.google.protobuf.Message.Builder&nbsp;target,
                    com.google.protobuf.Message&nbsp;source,
                    java.util.Set&lt;java.lang.String&gt;&nbsp;markedPaths,
                    <a href="FetchOptions.MaskMode.html" title="enum in gust.backend.model">FetchOptions.MaskMode</a>&nbsp;markEffect,
                    java.lang.String&nbsp;stackPrefix)</code></th>
<td class="colLast">
<div class="block">Apply the fields from <code>source</code> to <code>target</code>, considering any provided <code>FieldMask</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>default <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#applyMask(Model,gust.backend.model.FetchOptions)">applyMask</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&nbsp;instance,
         <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Apply mask-related options to the provided instance.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="ModelCodec.html" title="interface in gust.backend.model">ModelCodec</a>&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>,&#8203;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Intermediate</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#codec()">codec</a></span>()</code></th>
<td class="colLast">
<div class="block">Acquire an instance of the codec used by this adapter.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>com.google.common.util.concurrent.ListeningScheduledExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executorService()">executorService</a></span>()</code></th>
<td class="colLast">
<div class="block">Resolve an executor service for use with this persistence driver.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>default <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetch(Key)">fetch</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Synchronously retrieve a data model instance from underlying storage, addressed by its unique ID.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>default <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetch(Key,gust.backend.model.FetchOptions)">fetch</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
     <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Synchronously retrieve a data model instance from underlying storage, addressed by its unique ID.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>default <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchAsync(Key)">fetchAsync</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Asynchronously retrieve a data model instance from storage, which will populate the provided <code>Future</code> value.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>default <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchAsync(Key,gust.backend.model.FetchOptions)">fetchAsync</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
          <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Asynchronously retrieve a data model instance from storage, which will populate the provided <code>Future</code> value.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>default <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchReactive(Key)">fetchReactive</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Reactively retrieve a data model instance from storage, emitting it over a <code>Publisher</code> wrapped in an
 <code>Optional</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>default <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchReactive(Key,gust.backend.model.FetchOptions)">fetchReactive</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
             <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Reactively retrieve a data model instance from storage, emitting it over a <code>Publisher</code> wrapped in an
 <code>Optional</code>.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>default java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchSafe(Key)">fetchSafe</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Safely (and synchronously) retrieve a data model instance from storage, returning <code>Optional.empty()</code> if it
 cannot be located, rather than <code>null</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>default java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchSafe(Key,gust.backend.model.FetchOptions)">fetchSafe</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
         <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Safely (and synchronously) retrieve a data model instance from storage, returning <code>Optional.empty()</code> if it
 cannot be located, rather than <code>null</code>.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>default java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateId(com.google.protobuf.Message)">generateId</a></span>&#8203;(com.google.protobuf.Message&nbsp;instance)</code></th>
<td class="colLast">
<div class="block">Generate a semi-random opaque token, usable as an ID for a newly-created entity via the model layer.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>default <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateKey(com.google.protobuf.Message)">generateKey</a></span>&#8203;(com.google.protobuf.Message&nbsp;instance)</code></th>
<td class="colLast">
<div class="block">Generate a key for a new entity, which must be stored by this driver, but does not yet have a key.</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code><a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#persist(Key,Model,gust.backend.model.WriteOptions)">persist</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
       <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&nbsp;model,
       <a href="WriteOptions.html" title="interface in gust.backend.model">WriteOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Low-level record persistence method.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code><a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retrieve(Key,gust.backend.model.FetchOptions)">retrieve</a></span>&#8203;(<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
        <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Low-level record retrieval method.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_TIMEOUT</h4>
<pre>static final&nbsp;long <a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.131">DEFAULT_TIMEOUT</a></pre>
<div class="block">Default timeout to apply when otherwise unspecified.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#gust.backend.model.PersistenceDriver.DEFAULT_TIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_TIMEOUT_UNIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_TIMEOUT_UNIT</h4>
<pre>static final&nbsp;java.util.concurrent.TimeUnit <a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.134">DEFAULT_TIMEOUT_UNIT</a></pre>
<div class="block">Time units for <a href="#DEFAULT_TIMEOUT"><code>DEFAULT_TIMEOUT</code></a>.</div>
</li>
</ul>
<a id="DEFAULT_CACHE_TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CACHE_TIMEOUT</h4>
<pre>static final&nbsp;long <a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.137">DEFAULT_CACHE_TIMEOUT</a></pre>
<div class="block">Default timeout to apply when fetching from the cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#gust.backend.model.PersistenceDriver.DEFAULT_CACHE_TIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_CACHE_TIMEOUT_UNIT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_CACHE_TIMEOUT_UNIT</h4>
<pre>static final&nbsp;java.util.concurrent.TimeUnit <a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.140">DEFAULT_CACHE_TIMEOUT_UNIT</a></pre>
<div class="block">Time units for <a href="#DEFAULT_CACHE_TIMEOUT"><code>DEFAULT_CACHE_TIMEOUT</code></a>.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="executorService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executorService</h4>
<pre class="methodSignature">@Nonnull
com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.149">executorService</a>()</pre>
<div class="block">Resolve an executor service for use with this persistence driver. Operations will be executed against this as they
 are received.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Scheduled executor service.</dd>
</dl>
</li>
</ul>
<a id="codec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codec</h4>
<pre class="methodSignature">@Nonnull
<a href="ModelCodec.html" title="interface in gust.backend.model">ModelCodec</a>&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>,&#8203;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Intermediate</a>&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.158">codec</a>()</pre>
<div class="block">Acquire an instance of the codec used by this adapter. Codecs are either injected/otherwise provided during adapter
 construction, or they are specified statically if the adapter depends on a specific codec.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Model codec currently in use by this adapter.</dd>
</dl>
</li>
</ul>
<a id="generateId(com.google.protobuf.Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateId</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;java.lang.String&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.168">generateId</a>&#8203;(@Nonnull
                                    com.google.protobuf.Message&nbsp;instance)</pre>
<div class="block">Generate a semi-random opaque token, usable as an ID for a newly-created entity via the model layer. In this case,
 the ID is returned directly, so it may be used to populate a key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - Model instance to generate an ID for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Generated opaque string ID.</dd>
</dl>
</li>
</ul>
<a id="generateKey(com.google.protobuf.Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateKey</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.183">generateKey</a>&#8203;(@Nonnull
                        com.google.protobuf.Message&nbsp;instance)</pre>
<div class="block">Generate a key for a new entity, which must be stored by this driver, but does not yet have a key. If the driver
 does not support key generation, <code>UnsupportedOperationException</code> is thrown.

 <p>Generated keys are expected to be best-effort unique. Generally, Java's built-in <code>UUID</code> should
 do the trick just fine. In more complex or scalable circumstances, this method can be overridden to reach out to
 the data engine to generate a key.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - Default instance of the model type for which a key is desired.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Generated key for an entity to be stored.</dd>
</dl>
</li>
</ul>
<a id="applyFieldsRecursive(com.google.protobuf.Message.Builder,com.google.protobuf.Message,java.util.Set,gust.backend.model.FetchOptions.MaskMode,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyFieldsRecursive</h4>
<pre class="methodSignature">default&nbsp;com.google.protobuf.Message.Builder&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.222">applyFieldsRecursive</a>&#8203;(@Nonnull
                                                                 com.google.protobuf.Message.Builder&nbsp;target,
                                                                 @Nonnull
                                                                 com.google.protobuf.Message&nbsp;source,
                                                                 @Nonnull
                                                                 java.util.Set&lt;java.lang.String&gt;&nbsp;markedPaths,
                                                                 @Nonnull
                                                                 <a href="FetchOptions.MaskMode.html" title="enum in gust.backend.model">FetchOptions.MaskMode</a>&nbsp;markEffect,
                                                                 @Nonnull
                                                                 java.lang.String&nbsp;stackPrefix)</pre>
<div class="block">Apply the fields from <code>source</code> to <code>target</code>, considering any provided <code>FieldMask</code>.

 <p>If the invoking developer chooses to provide <code>markedPaths</code>, they must also supply <code>markEffect</code>. For
 each field encountered that matches a property path in <code>markedPaths</code>, <code>markEffect</code> is applied. This
 happens recursively for the entire model tree of <code>source</code> (and, consequently, <code>target</code>).</p>

 <p>After all field computations are complete, the builder is built (and casted, if necessary), before being handed
 back to invoking code.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - Builder to set each field value on, as appropriate.</dd>
<dd><code>source</code> - Source instance to pull fields and field values from.</dd>
<dd><code>markedPaths</code> - "Marked" paths - each one will be treated, as encountered, according to <code>markEffect</code>.</dd>
<dd><code>markEffect</code> - Determines how to treat "marked" paths. See <a href="FetchOptions.MaskMode.html" title="enum in gust.backend.model"><code>FetchOptions.MaskMode</code></a> for more information.</dd>
<dd><code>stackPrefix</code> - Dotted stack of properties describing the path that got us to this point (via recursion).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Constructed model, after applying the provided field mask, as applicable.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="FetchOptions.MaskMode.html" title="enum in gust.backend.model"><code>Determines how "marked" fields are treated.</code></a></dd>
</dl>
</li>
</ul>
<a id="applyMask(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="applyMask(Model,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyMask</h4>
<pre class="methodSignature">default&nbsp;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.295">applyMask</a>&#8203;(@Nonnull
                        <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&nbsp;instance,
                        @Nonnull
                        <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</pre>
<div class="block">Apply mask-related options to the provided instance. This may include re-building <i>without</i> certain fields, so
 the instance returned may be different.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - Instance to filter based on any provided field mask.k</dd>
<dd><code>options</code> - Options to apply to the provided instance.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Model, post-filtering.</dd>
</dl>
</li>
</ul>
<a id="fetch(com.google.protobuf.Message)">
<!--   -->
</a><a id="fetch(Key)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre class="methodSignature">@Nullable
default&nbsp;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.339">fetch</a>&#8203;(@Nonnull
                    <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)
             throws <a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></pre>
<div class="block">Synchronously retrieve a data model instance from underlying storage, addressed by its unique ID.

 <p>If the record cannot be located by the storage engine, <code>null</code> will be returned instead. For a safe variant
 of this method (relying on <code>Optional</code>), see <a href="#fetchSafe(Key)"><code>fetchSafe(Message)</code></a>.</p>

 <p><b>Note:</b> Asynchronous and reactive versions of this method also exist. You should always consider using
 those if your requirements allow.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and return it if found.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Requested record, as a model instance, or <code>null</code> if one could not be found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested instance.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetchAsync(Key)"><code>For an async version of this method, which produces a .</code></a>, 
<a href="#fetchSafe(Key)"><code>For a safe version of this method, which uses  instead of null.</code></a>, 
<a href="#fetchReactive(Key)"><code>For a reactive version of this method, which produces a .</code></a></dd>
</dl>
</li>
</ul>
<a id="fetch(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="fetch(Key,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre class="methodSignature">@Nullable
default&nbsp;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.363">fetch</a>&#8203;(@Nonnull
                    <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
                    @Nullable
                    <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)
             throws <a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></pre>
<div class="block">Synchronously retrieve a data model instance from underlying storage, addressed by its unique ID.

 <p>If the record cannot be located by the storage engine, <code>null</code> will be returned instead. For a safe
 variant of this method (relying on <code>Optional</code>), see <a href="#fetchSafe(Key)"><code>fetchSafe(Message)</code></a>}. This variant
 additionally allows specification of <a href="FetchOptions.html" title="interface in gust.backend.model"><code>FetchOptions</code></a>.</p>

 <p><b>Note:</b> Asynchronous and reactive versions of this method also exist. You should always consider using
 those if your requirements allow.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and return it if found.</dd>
<dd><code>options</code> - Options to apply to this individual retrieval operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Requested record, as a model instance, or <code>null</code> if one could not be found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested instance.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetchAsync(Key)"><code>For an async version of this method, which produces a .</code></a>, 
<a href="#fetchSafe(Key)"><code>For a safe version of this method, which uses  instead of null.</code></a>, 
<a href="#fetchReactive(Key)"><code>For a reactive version of this method, which produces a .</code></a></dd>
</dl>
</li>
</ul>
<a id="fetchSafe(com.google.protobuf.Message)">
<!--   -->
</a><a id="fetchSafe(Key)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchSafe</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.384">fetchSafe</a>&#8203;(@Nonnull
                                            <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)
                                     throws <a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></pre>
<div class="block">Safely (and synchronously) retrieve a data model instance from storage, returning <code>Optional.empty()</code> if it
 cannot be located, rather than <code>null</code>.

 <p><b>Note:</b> Asynchronous and reactive versions of this method also exist. You should always consider using
 those if your requirements allow. All of the reactive/async methods support null safety with <code>Optional</code>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and return it if found.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Requested record, as a model instance, or <code>Optional.empty()</code> if it cannot be found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetch(Key)"><code>For a simpler, but -unsafe version of this method.</code></a>, 
<a href="#fetchAsync(Key)"><code>For an async version of this metho, which produces a .</code></a>, 
<a href="#fetchReactive(Key)"><code>For a reactive version of this method, which produces a .</code></a></dd>
</dl>
</li>
</ul>
<a id="fetchSafe(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="fetchSafe(Key,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchSafe</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.407">fetchSafe</a>&#8203;(@Nonnull
                                            <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
                                            @Nullable
                                            <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)
                                     throws <a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></pre>
<div class="block">Safely (and synchronously) retrieve a data model instance from storage, returning <code>Optional.empty()</code> if it
 cannot be located, rather than <code>null</code>.

 <p>This variant additionally allows specification of <a href="FetchOptions.html" title="interface in gust.backend.model"><code>FetchOptions</code></a>.</p>

 <p><b>Note:</b> Asynchronous and reactive versions of this method also exist. You should always consider using
 those if your requirements allow. All of the reactive/async methods support null safety with <code>Optional</code>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and return it if found.</dd>
<dd><code>options</code> - Options to apply to this individual retrieval operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Requested record, as a model instance, or <code>Optional.empty()</code> if it cannot be found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetch(Key)"><code>For a simpler, but -unsafe version of this method.</code></a>, 
<a href="#fetchAsync(Key)"><code>For an async version of this metho, which produces a .</code></a>, 
<a href="#fetchReactive(Key)"><code>For a reactive version of this method, which produces a .</code></a></dd>
</dl>
</li>
</ul>
<a id="fetchReactive(com.google.protobuf.Message)">
<!--   -->
</a><a id="fetchReactive(Key)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchReactive</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.440">fetchReactive</a>&#8203;(@Nonnull
                                                                <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)</pre>
<div class="block">Reactively retrieve a data model instance from storage, emitting it over a <code>Publisher</code> wrapped in an
 <code>Optional</code>.

 <p>In other words, if the model cannot be located, exactly one <code>Optional.empty()</code> will be emitted over the
 channel. If the model is successfully located and retrieved, it is emitted exactly once. See other method variants,
 which allow specification of additional options.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Publisher</code> channel instead, to enable reactive exception handling.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and emit it if found.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Publisher which will receive exactly-one emitted <code>Optional.empty()</code>, or wrapped object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetch(Key)"><code>For a simple, synchronous (-unsafe) version of this method.</code></a>, 
<a href="#fetchAsync(Key)"><code>For an async version of this method, which produces a .</code></a>, 
<a href="#fetchReactive(Key,gust.backend.model.FetchOptions)"><code>For a variant of this method that allows specification of options.</code></a></dd>
</dl>
</li>
</ul>
<a id="fetchReactive(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="fetchReactive(Key,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchReactive</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.465">fetchReactive</a>&#8203;(@Nonnull
                                                                <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
                                                                @Nullable
                                                                <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</pre>
<div class="block">Reactively retrieve a data model instance from storage, emitting it over a <code>Publisher</code> wrapped in an
 <code>Optional</code>.

 <p>In other words, if the model cannot be located, exactly one <code>Optional.empty()</code> will be emitted over the
 channel. If the model is successfully located and retrieved, it is emitted exactly once. See other method variants,
 which allow specification of additional options. This method variant additionally allows the specification of
 <a href="FetchOptions.html" title="interface in gust.backend.model"><code>FetchOptions</code></a>.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Publisher</code> channel instead, to enable reactive exception handling.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and emit it if found.</dd>
<dd><code>options</code> - Options to apply to this individual retrieval operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Publisher which will receive exactly-one emitted <code>Optional.empty()</code>, or wrapped object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetch(Key)"><code>For a simple, synchronous (-unsafe) version of this method.</code></a>, 
<a href="#fetchAsync(Key)"><code>For an async version of this method, which produces a .</code></a></dd>
</dl>
</li>
</ul>
<a id="fetchAsync(com.google.protobuf.Message)">
<!--   -->
</a><a id="fetchAsync(Key)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchAsync</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.492">fetchAsync</a>&#8203;(@Nonnull
                                                             <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key)</pre>
<div class="block">Asynchronously retrieve a data model instance from storage, which will populate the provided <code>Future</code> value.

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood. If the requested record cannot be located, <code>Optional.empty()</code> is returned as
 the future value, otherwise, the model is returned. See other method variants, which allow specification of
 additional options.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and emit it if found.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future value, which resolves to the specified datamodel instance, or <code>Optional.empty()</code> if the record
         could not be located by the storage engine.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetch(Key)"><code>For a simple, synchronous (=unsafe) version of this method.</code></a>, 
<a href="#fetchSafe(Key)"><code>For a simple, synchronous (-safe) version of this method.</code></a>, 
<a href="#fetchReactive(Key)"><code>For a reactive version of this method, which returns a .</code></a>, 
<a href="#fetchAsync(Key,gust.backend.model.FetchOptions)"><code>For a variant of this method which supports .</code></a></dd>
</dl>
</li>
</ul>
<a id="fetchAsync(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="fetchAsync(Key,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchAsync</h4>
<pre class="methodSignature">@OverridingMethodsMustInvokeSuper
@Nonnull
default&nbsp;<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.521">fetchAsync</a>&#8203;(@Nonnull
                                                             <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
                                                             @Nullable
                                                             <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</pre>
<div class="block">Asynchronously retrieve a data model instance from storage, which will populate the provided <code>Future</code> value.

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood. If the requested record cannot be located, <code>Optional.empty()</code> is returned as
 the future value, otherwise, the model is returned.</p>

 <p>This method additionally enables specification of custom <a href="FetchOptions.html" title="interface in gust.backend.model"><code>FetchOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and emit it if found.</dd>
<dd><code>options</code> - Options to apply to this individual retrieval operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future value, which resolves to the specified datamodel instance, or <code>Optional.empty()</code> if the record
         could not be located by the storage engine.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetch(Key)"><code>For a simple, synchronous (=unsafe) version of this method.</code></a>, 
<a href="#fetchSafe(Key)"><code>For a simple, synchronous (-safe) version of this method.</code></a>, 
<a href="#fetchReactive(Key)"><code>For a reactive version of this method, which returns a .</code></a></dd>
</dl>
</li>
</ul>
<a id="retrieve(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="retrieve(Key,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieve</h4>
<pre class="methodSignature">@Nonnull
<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.556">retrieve</a>&#8203;(@Nonnull
                                                   <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
                                                   @Nonnull
                                                   <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</pre>
<div class="block">Low-level record retrieval method. Effectively called by all other fetch variants. Asynchronously retrieve a data
 model instance from storage, which will populate the provided <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> value.

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood. If the requested record cannot be located, <code>Optional.empty()</code> is returned as
 the future value, otherwise, the model is returned.</p>

 <p>This method additionally enables specification of custom <a href="FetchOptions.html" title="interface in gust.backend.model"><code>FetchOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and emit it if found.</dd>
<dd><code>options</code> - Options to apply to this individual retrieval operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future value, which resolves to the specified datamodel instance, or <code>Optional.empty()</code> if the record
         could not be located by the storage engine.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#fetch(Key)"><code>For a simple, synchronous (=unsafe) version of this method.</code></a>, 
<a href="#fetchSafe(Key)"><code>For a simple, synchronous (-safe) version of this method.</code></a>, 
<a href="#fetchAsync(Key)"><code>For an async variant of this method (identical, except options are optional).</code></a>, 
<a href="#fetchReactive(Key)"><code>For a reactive version of this method, which returns a .</code></a></dd>
</dl>
</li>
</ul>
<a id="persist(com.google.protobuf.Message,com.google.protobuf.Message,gust.backend.model.WriteOptions)">
<!--   -->
</a><a id="persist(Key,Model,gust.backend.model.WriteOptions)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>persist</h4>
<pre class="methodSignature">@Nonnull
<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&gt;&nbsp;<a href="../../../src-html/gust/backend/model/PersistenceDriver.html#line.588">persist</a>&#8203;(@Nullable
                              <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Key</a>&nbsp;key,
                              @Nonnull
                              <a href="PersistenceDriver.html" title="type parameter in PersistenceDriver">Model</a>&nbsp;model,
                              @Nonnull
                              <a href="WriteOptions.html" title="interface in gust.backend.model">WriteOptions</a>&nbsp;options)</pre>
<div class="block">Low-level record persistence method. Effectively called by all other create/put variants. Asynchronously write a
 data model instance to storage, which will populate the provided <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> value.

 <p>Optionally, a key may be provided as a nominated value to the storage engine. Whether the engine accepts
 nominated keys is up to the implementation. In all cases, the engine must return the key used to store and address
 the value henceforth.</p>

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood, but <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> allows a model-layer result to be used as a
 <code>Future</code>, or a one-item reactive <code>Publisher</code>.</p>

 <p>This method additionally enables specification of custom <a href="WriteOptions.html" title="interface in gust.backend.model"><code>WriteOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key nominated by invoking code for storing this record. If no key is provided, the underlying storage
            engine is expected to allocate one. Where unsupported, <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> will be thrown.</dd>
<dd><code>model</code> - Model to store at the specified key, if provided.</dd>
<dd><code>options</code> - Options to apply to this persist operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Reactive future, which resolves to the key where the provided model is now stored. In no case should this
         method return <code>null</code>. Instead, <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> will be thrown.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidModelType.html" title="class in gust.backend.model">InvalidModelType</a></code> - If the specified key type is not compatible with model-layer operations.</dd>
<dd><code><a href="PersistenceException.html" title="class in gust.backend.model">PersistenceException</a></code> - If an unexpected failure occurs, of any kind, while fetching the requested resource.</dd>
<dd><code><a href="MissingAnnotatedField.html" title="class in gust.backend.model">MissingAnnotatedField</a></code> - If the specified key record has no resolvable ID field.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PersistenceDriver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright () 2020, The Gust Framework Authors</small></p>
</footer>
</body>
</html>
