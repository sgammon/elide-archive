<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ModelAdapter</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="keywords" content="gust.backend.model.ModelAdapter interface">
<meta name="keywords" content="cache()">
<meta name="keywords" content="engine()">
<meta name="keywords" content="executorService()">
<meta name="keywords" content="generateKey()">
<meta name="keywords" content="retrieve()">
<meta name="keywords" content="persist()">
<meta name="keywords" content="delete()">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ModelAdapter";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":18,"i2":6,"i3":18,"i4":18,"i5":18,"i6":18};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ModelAdapter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">gust.backend.model</a></div>
<h2 title="Interface ModelAdapter" class="title">Interface ModelAdapter&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message,&#8203;ReadIntermediate,&#8203;WriteIntermediate&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Key</code> - Key type, instances of which uniquely address instances of <code>Model</code>.</dd>
<dd><code>Model</code> - Model type which this adapter is responsible for adapting.</dd>
<dd><code>ReadIntermediate</code> - Intermediate record format used by the implementation when de-serializing model instances.</dd>
<dd><code>WriteIntermediate</code> - Intermediate record format used when serializing model instances for write.</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;Key,&#8203;Model,&#8203;ReadIntermediate,&#8203;WriteIntermediate&gt;</code></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="DatabaseAdapter.html" title="interface in gust.backend.model">DatabaseAdapter</a>&lt;Key,&#8203;Model,&#8203;ReadRecord,&#8203;WriteRecord&gt;</code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../driver/firestore/FirestoreAdapter.html" title="class in gust.backend.driver.firestore">FirestoreAdapter</a></code>, <code><a href="../driver/inmemory/InMemoryAdapter.html" title="class in gust.backend.driver.inmemory">InMemoryAdapter</a></code>, <code><a href="../driver/spanner/SpannerAdapter.html" title="class in gust.backend.driver.spanner">SpannerAdapter</a></code></dd>
</dl>
<hr>
<pre>public interface <a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.56">ModelAdapter</a>&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message,&#8203;ReadIntermediate,&#8203;WriteIntermediate&gt;
extends <a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;Key,&#8203;Model,&#8203;ReadIntermediate,&#8203;WriteIntermediate&gt;</pre>
<div class="block">Specifies an adapter for data models. "Adapters" are responsible for handling data storage and recall, and generic
 model serialization and deserialization activities. Adapters are composed of a handful of components, which together
 define the functionality that composes the adapter writ-large.

 <p>Major components of functionality are described below:
 <ul>
   <li><b>Codec:</b> The <a href="ModelCodec.html" title="interface in gust.backend.model"><code>ModelCodec</code></a> is responsible for serialization and deserialization. In some cases,
   codecs can be mixed with other objects to customize how data is stored. For example, the Redis cache layer supports
   using ProtoJSON, Protobuf binary, or JVM serialization, optionally with compression. On the other hand, the
   Firestore adapter specifies its own codecs which serialize into Firestore models.</li>
   <li><b>Driver:</b> The <a href="PersistenceDriver.html" title="interface in gust.backend.model"><code>PersistenceDriver</code></a> is responsible for persisting serialized/collapsed models into
   underlying storage, deleting data recalling data via key fetches, and querying indexes to produce result-sets.</li>
 </ul></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="PersistenceDriver.html" title="interface in gust.backend.model"><code>Interface which defines basic driver functionality.</code></a>, 
<a href="CacheDriver.html" title="interface in gust.backend.model"><code>Cache-specific persistence driver support, included in this object.</code></a>, 
<a href="DatabaseAdapter.html" title="interface in gust.backend.model"><code>Extends this interface with richer data engine features.</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;gust.backend.model.<a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="PersistenceDriver.Internals.html" title="class in gust.backend.model">PersistenceDriver.Internals</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;gust.backend.model.<a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="PersistenceDriver.html#DEFAULT_CACHE_TIMEOUT">DEFAULT_CACHE_TIMEOUT</a>, <a href="PersistenceDriver.html#DEFAULT_CACHE_TIMEOUT_UNIT">DEFAULT_CACHE_TIMEOUT_UNIT</a>, <a href="PersistenceDriver.html#DEFAULT_TIMEOUT">DEFAULT_TIMEOUT</a>, <a href="PersistenceDriver.html#DEFAULT_TIMEOUT_UNIT">DEFAULT_TIMEOUT_UNIT</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cache()">cache</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the cache driver in use for this particular model adapter.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delete(Key,gust.backend.model.DeleteOptions)">delete</a></span>&#8203;(<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&nbsp;key,
      <a href="DeleteOptions.html" title="interface in gust.backend.model">DeleteOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Low-level record delete method.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">ReadIntermediate</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">WriteIntermediate</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#engine()">engine</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the lower-level <a href="PersistenceDriver.html" title="interface in gust.backend.model"><code>PersistenceDriver</code></a> powering this adapter.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>default com.google.common.util.concurrent.ListeningScheduledExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executorService()">executorService</a></span>()</code></th>
<td class="colLast">
<div class="block">Resolve an executor service for use with this persistence driver.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>default <a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateKey(com.google.protobuf.Message)">generateKey</a></span>&#8203;(com.google.protobuf.Message&nbsp;instance)</code></th>
<td class="colLast">
<div class="block">Generate a key for a new entity, which must be stored by this driver, but does not yet have a key.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>default <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#persist(Key,Model,gust.backend.model.WriteOptions)">persist</a></span>&#8203;(<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&nbsp;key,
       <a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&nbsp;model,
       <a href="WriteOptions.html" title="interface in gust.backend.model">WriteOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Low-level record persistence method.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>default <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retrieve(Key,gust.backend.model.FetchOptions)">retrieve</a></span>&#8203;(<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&nbsp;key,
        <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Low-level record retrieval method.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;gust.backend.model.<a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="PersistenceDriver.html#applyFieldsRecursive(com.google.protobuf.Message.Builder,com.google.protobuf.Message,java.util.Set,gust.backend.model.FetchOptions.MaskMode,java.lang.String)">applyFieldsRecursive</a>, <a href="PersistenceDriver.html#applyMask(Model,gust.backend.model.FetchOptions)">applyMask</a>, <a href="PersistenceDriver.html#codec()">codec</a>, <a href="PersistenceDriver.html#create(Key,Model)">create</a>, <a href="PersistenceDriver.html#create(Key,Model,gust.backend.model.WriteOptions)">create</a>, <a href="PersistenceDriver.html#create(Model)">create</a>, <a href="PersistenceDriver.html#create(Model,gust.backend.model.WriteOptions)">create</a>, <a href="PersistenceDriver.html#delete(Key)">delete</a>, <a href="PersistenceDriver.html#deleteRecord(Model)">deleteRecord</a>, <a href="PersistenceDriver.html#deleteRecord(Model,gust.backend.model.DeleteOptions)">deleteRecord</a>, <a href="PersistenceDriver.html#fetch(Key)">fetch</a>, <a href="PersistenceDriver.html#fetch(Key,gust.backend.model.FetchOptions)">fetch</a>, <a href="PersistenceDriver.html#fetchAsync(Key)">fetchAsync</a>, <a href="PersistenceDriver.html#fetchAsync(Key,gust.backend.model.FetchOptions)">fetchAsync</a>, <a href="PersistenceDriver.html#fetchReactive(Key)">fetchReactive</a>, <a href="PersistenceDriver.html#fetchReactive(Key,gust.backend.model.FetchOptions)">fetchReactive</a>, <a href="PersistenceDriver.html#fetchSafe(Key)">fetchSafe</a>, <a href="PersistenceDriver.html#fetchSafe(Key,gust.backend.model.FetchOptions)">fetchSafe</a>, <a href="PersistenceDriver.html#generateId(com.google.protobuf.Message)">generateId</a>, <a href="PersistenceDriver.html#update(Key,Model)">update</a>, <a href="PersistenceDriver.html#update(Key,Model,gust.backend.model.UpdateOptions)">update</a>, <a href="PersistenceDriver.html#update(Model)">update</a>, <a href="PersistenceDriver.html#update(Model,gust.backend.model.UpdateOptions)">update</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="cache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cache</h4>
<pre class="methodSignature">@Nonnull
java.util.Optional&lt;<a href="CacheDriver.html" title="interface in gust.backend.model">CacheDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&gt;&gt;&nbsp;<a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.66">cache</a>()</pre>
<div class="block">Return the cache driver in use for this particular model adapter. If a cache driver is present, and active/enabled
 according to database driver settings, it will be used on read-paths (such as fetching objects by ID).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Cache driver currently in use by this model adapter.</dd>
</dl>
</li>
</ul>
<a id="engine()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engine</h4>
<pre class="methodSignature">@Nonnull
<a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">ReadIntermediate</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">WriteIntermediate</a>&gt;&nbsp;<a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.74">engine</a>()</pre>
<div class="block">Return the lower-level <a href="PersistenceDriver.html" title="interface in gust.backend.model"><code>PersistenceDriver</code></a> powering this adapter. The driver is responsible for communicating
 with the actual backing storage service, either via local stubs/emulators or a production API.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Persistence driver instance currently in use by this model adapter.</dd>
</dl>
</li>
</ul>
<a id="executorService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executorService</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;<a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.78">executorService</a>()</pre>
<div class="block">Resolve an executor service for use with this persistence driver. Operations will be executed against this as they
 are received.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistenceDriver.html#executorService()">executorService</a></code>&nbsp;in interface&nbsp;<code><a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">ReadIntermediate</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">WriteIntermediate</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Scheduled executor service.</dd>
</dl>
</li>
</ul>
<a id="generateKey(com.google.protobuf.Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateKey</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&nbsp;<a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.85">generateKey</a>&#8203;(@Nonnull
                        com.google.protobuf.Message&nbsp;instance)</pre>
<div class="block">Generate a key for a new entity, which must be stored by this driver, but does not yet have a key. If the driver
 does not support key generation, <code>UnsupportedOperationException</code> is thrown.

 <p>Generated keys are expected to be best-effort unique. Generally, Java's built-in <code>UUID</code> should
 do the trick just fine. In more complex or scalable circumstances, this method can be overridden to reach out to
 the data engine to generate a key.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistenceDriver.html#generateKey(com.google.protobuf.Message)">generateKey</a></code>&nbsp;in interface&nbsp;<code><a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">ReadIntermediate</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">WriteIntermediate</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - Default instance of the model type for which a key is desired.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Generated key for an entity to be stored.</dd>
</dl>
</li>
</ul>
<a id="retrieve(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="retrieve(Key,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieve</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&gt;&gt;&nbsp;<a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.92">retrieve</a>&#8203;(@Nonnull
                                                           <a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&nbsp;key,
                                                           @Nonnull
                                                           <a href="FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</pre>
<div class="block">Low-level record retrieval method. Effectively called by all other fetch variants. Asynchronously retrieve a data
 model instance from storage, which will populate the provided <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> value.

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood. If the requested record cannot be located, <code>Optional.empty()</code> is returned as
 the future value, otherwise, the model is returned.</p>

 <p>This method additionally enables specification of custom <a href="FetchOptions.html" title="interface in gust.backend.model"><code>FetchOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistenceDriver.html#retrieve(Key,gust.backend.model.FetchOptions)">retrieve</a></code>&nbsp;in interface&nbsp;<code><a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">ReadIntermediate</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">WriteIntermediate</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and emit it if found.</dd>
<dd><code>options</code> - Options to apply to this individual retrieval operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future value, which resolves to the specified datamodel instance, or <code>Optional.empty()</code> if the record
         could not be located by the storage engine.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="PersistenceDriver.html#fetch(Key)"><code>For a simple, synchronous (=unsafe) version of this method.</code></a>, 
<a href="PersistenceDriver.html#fetchSafe(Key)"><code>For a simple, synchronous (-safe) version of this method.</code></a>, 
<a href="PersistenceDriver.html#fetchAsync(Key)"><code>For an async variant of this method (identical, except options are optional).</code></a>, 
<a href="PersistenceDriver.html#fetchReactive(Key)"><code>For a reactive version of this method, which returns a .</code></a></dd>
</dl>
</li>
</ul>
<a id="persist(com.google.protobuf.Message,com.google.protobuf.Message,gust.backend.model.WriteOptions)">
<!--   -->
</a><a id="persist(Key,Model,gust.backend.model.WriteOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persist</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&gt;&nbsp;<a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.177">persist</a>&#8203;(@Nullable
                                      <a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&nbsp;key,
                                      @Nonnull
                                      <a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a>&nbsp;model,
                                      @Nonnull
                                      <a href="WriteOptions.html" title="interface in gust.backend.model">WriteOptions</a>&nbsp;options)</pre>
<div class="block">Low-level record persistence method. Effectively called by all other create/put variants. Asynchronously write a
 data model instance to storage, which will populate the provided <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> value.

 <p>Optionally, a key may be provided as a nominated value to the storage engine. Whether the engine accepts
 nominated keys is up to the implementation. In all cases, the engine must return the key used to store and address
 the value henceforth. If the engine <i>does</i> support nominated keys, it <i>must</i> operate in an idempotent
 manner with regard to those keys. In other words, repeated calls to create the same entity with the same key will
 not cause spurious side-effects - only one record will be created, with the remaining calls being rejected by the
 underlying engine.</p>

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood, but <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> allows a model-layer result to be used as a
 <code>Future</code>, or a one-item reactive <code>Publisher</code>.</p>

 <p>This method additionally enables specification of custom <a href="WriteOptions.html" title="interface in gust.backend.model"><code>WriteOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistenceDriver.html#persist(Key,Model,gust.backend.model.WriteOptions)">persist</a></code>&nbsp;in interface&nbsp;<code><a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">ReadIntermediate</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">WriteIntermediate</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key nominated by invoking code for storing this record. If no key is provided, the underlying storage
            engine is expected to allocate one. Where unsupported, <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> will be thrown.</dd>
<dd><code>model</code> - Model to store at the specified key, if provided.</dd>
<dd><code>options</code> - Options to apply to this persist operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Reactive future, which resolves to the key where the provided model is now stored. In no case should this
         method return <code>null</code>. Instead, <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> will be thrown.</dd>
</dl>
</li>
</ul>
<a id="delete(com.google.protobuf.Message,gust.backend.model.DeleteOptions)">
<!--   -->
</a><a id="delete(Key,gust.backend.model.DeleteOptions)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delete</h4>
<pre class="methodSignature">@Nonnull
default&nbsp;<a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&gt;&nbsp;<a href="../../../src-html/gust/backend/model/ModelAdapter.html#line.185">delete</a>&#8203;(@Nonnull
                                   <a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a>&nbsp;key,
                                   @Nonnull
                                   <a href="DeleteOptions.html" title="interface in gust.backend.model">DeleteOptions</a>&nbsp;options)</pre>
<div class="block">Low-level record delete method. Effectively called by all other delete variants. Asynchronously and permanently
 erase an existing data model instance from storage, addressed by its key unique key or ID.

 <p>If no key or ID field, or value, may be located, an error is raised (see below for details). This operation is
 expected to operate in an <i>idempotent</i> manner (i.e. repeated calls with identical parameters do not yield
 different side effects). Calls referring to an already-deleted entity should silently succeed.</p>

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood, but <a href="../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> allows a model-layer result to be used as a
 <code>Future</code>, or a one-item reactive <code>Publisher</code>.</p>

 <p>This method additionally enables specification of custom <a href="DeleteOptions.html" title="interface in gust.backend.model"><code>DeleteOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistenceDriver.html#delete(Key,gust.backend.model.DeleteOptions)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Key</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">Model</a> extends com.google.protobuf.Message,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">ReadIntermediate</a>,&#8203;<a href="ModelAdapter.html" title="type parameter in ModelAdapter">WriteIntermediate</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Unique key referring to the record in storage that should be deleted.</dd>
<dd><code>options</code> - Options to apply to this specific delete operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future value, which resolves to the deleted record's key when the operation completes.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ModelAdapter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright (Â©) 2020, The Gust Framework Authors</small></p>
</footer>
</body>
</html>
